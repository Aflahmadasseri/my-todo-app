(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Wc={exports:{}},Qo={},Qc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function U_(){if(Rp)return we;Rp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function N(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,X={};function W(x,$,_e){this.props=x,this.context=$,this.refs=X,this.updater=_e||B}W.prototype.isReactComponent={},W.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},W.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ee(){}Ee.prototype=W.prototype;function ge(x,$,_e){this.props=x,this.context=$,this.refs=X,this.updater=_e||B}var ye=ge.prototype=new Ee;ye.constructor=ge,Y(ye,W.prototype),ye.isPureReactComponent=!0;var Ne=Array.isArray,be=Object.prototype.hasOwnProperty,Ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(x,$,_e){var ve,Te={},Ie=null,Me=null;if($!=null)for(ve in $.ref!==void 0&&(Me=$.ref),$.key!==void 0&&(Ie=""+$.key),$)be.call($,ve)&&!k.hasOwnProperty(ve)&&(Te[ve]=$[ve]);var Ve=arguments.length-2;if(Ve===1)Te.children=_e;else if(1<Ve){for(var Ue=Array(Ve),Lt=0;Lt<Ve;Lt++)Ue[Lt]=arguments[Lt+2];Te.children=Ue}if(x&&x.defaultProps)for(ve in Ve=x.defaultProps,Ve)Te[ve]===void 0&&(Te[ve]=Ve[ve]);return{$$typeof:i,type:x,key:Ie,ref:Me,props:Te,_owner:Ce.current}}function A(x,$){return{$$typeof:i,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function P(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(_e){return $[_e]})}var O=/\/+/g;function S(x,$){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):$.toString(36)}function Be(x,$,_e,ve,Te){var Ie=typeof x;(Ie==="undefined"||Ie==="boolean")&&(x=null);var Me=!1;if(x===null)Me=!0;else switch(Ie){case"string":case"number":Me=!0;break;case"object":switch(x.$$typeof){case i:case e:Me=!0}}if(Me)return Me=x,Te=Te(Me),x=ve===""?"."+S(Me,0):ve,Ne(Te)?(_e="",x!=null&&(_e=x.replace(O,"$&/")+"/"),Be(Te,$,_e,"",function(Lt){return Lt})):Te!=null&&(D(Te)&&(Te=A(Te,_e+(!Te.key||Me&&Me.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+x)),$.push(Te)),1;if(Me=0,ve=ve===""?".":ve+":",Ne(x))for(var Ve=0;Ve<x.length;Ve++){Ie=x[Ve];var Ue=ve+S(Ie,Ve);Me+=Be(Ie,$,_e,Ue,Te)}else if(Ue=N(x),typeof Ue=="function")for(x=Ue.call(x),Ve=0;!(Ie=x.next()).done;)Ie=Ie.value,Ue=ve+S(Ie,Ve++),Me+=Be(Ie,$,_e,Ue,Te);else if(Ie==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Me}function mt(x,$,_e){if(x==null)return x;var ve=[],Te=0;return Be(x,ve,"","",function(Ie){return $.call(_e,Ie,Te++)}),ve}function Ct(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(_e){(x._status===0||x._status===-1)&&(x._status=1,x._result=_e)},function(_e){(x._status===0||x._status===-1)&&(x._status=2,x._result=_e)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Ge={current:null},J={transition:null},le={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ce};function ne(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:mt,forEach:function(x,$,_e){mt(x,function(){$.apply(this,arguments)},_e)},count:function(x){var $=0;return mt(x,function(){$++}),$},toArray:function(x){return mt(x,function($){return $})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},we.Component=W,we.Fragment=n,we.Profiler=a,we.PureComponent=ge,we.StrictMode=s,we.Suspense=_,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,we.act=ne,we.cloneElement=function(x,$,_e){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ve=Y({},x.props),Te=x.key,Ie=x.ref,Me=x._owner;if($!=null){if($.ref!==void 0&&(Ie=$.ref,Me=Ce.current),$.key!==void 0&&(Te=""+$.key),x.type&&x.type.defaultProps)var Ve=x.type.defaultProps;for(Ue in $)be.call($,Ue)&&!k.hasOwnProperty(Ue)&&(ve[Ue]=$[Ue]===void 0&&Ve!==void 0?Ve[Ue]:$[Ue])}var Ue=arguments.length-2;if(Ue===1)ve.children=_e;else if(1<Ue){Ve=Array(Ue);for(var Lt=0;Lt<Ue;Lt++)Ve[Lt]=arguments[Lt+2];ve.children=Ve}return{$$typeof:i,type:x.type,key:Te,ref:Ie,props:ve,_owner:Me}},we.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},we.createElement=I,we.createFactory=function(x){var $=I.bind(null,x);return $.type=x,$},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:g,render:x}},we.isValidElement=D,we.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Ct}},we.memo=function(x,$){return{$$typeof:v,type:x,compare:$===void 0?null:$}},we.startTransition=function(x){var $=J.transition;J.transition={};try{x()}finally{J.transition=$}},we.unstable_act=ne,we.useCallback=function(x,$){return Ge.current.useCallback(x,$)},we.useContext=function(x){return Ge.current.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x){return Ge.current.useDeferredValue(x)},we.useEffect=function(x,$){return Ge.current.useEffect(x,$)},we.useId=function(){return Ge.current.useId()},we.useImperativeHandle=function(x,$,_e){return Ge.current.useImperativeHandle(x,$,_e)},we.useInsertionEffect=function(x,$){return Ge.current.useInsertionEffect(x,$)},we.useLayoutEffect=function(x,$){return Ge.current.useLayoutEffect(x,$)},we.useMemo=function(x,$){return Ge.current.useMemo(x,$)},we.useReducer=function(x,$,_e){return Ge.current.useReducer(x,$,_e)},we.useRef=function(x){return Ge.current.useRef(x)},we.useState=function(x){return Ge.current.useState(x)},we.useSyncExternalStore=function(x,$,_e){return Ge.current.useSyncExternalStore(x,$,_e)},we.useTransition=function(){return Ge.current.useTransition()},we.version="18.3.1",we}var Cp;function Vh(){return Cp||(Cp=1,Qc.exports=U_()),Qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function z_(){if(Pp)return Qo;Pp=1;var i=Vh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,v){var w,C={},N=null,B=null;v!==void 0&&(N=""+v),_.key!==void 0&&(N=""+_.key),_.ref!==void 0&&(B=_.ref);for(w in _)s.call(_,w)&&!c.hasOwnProperty(w)&&(C[w]=_[w]);if(g&&g.defaultProps)for(w in _=g.defaultProps,_)C[w]===void 0&&(C[w]=_[w]);return{$$typeof:e,type:g,key:N,ref:B,props:C,_owner:a.current}}return Qo.Fragment=n,Qo.jsx=f,Qo.jsxs=f,Qo}var kp;function b_(){return kp||(kp=1,Wc.exports=z_()),Wc.exports}var nn=b_(),Go=Vh(),Ol={},Gc={exports:{}},qt={},Kc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function B_(){return Vp||(Vp=1,(function(i){function e(J,le){var ne=J.length;J.push(le);e:for(;0<ne;){var x=ne-1>>>1,$=J[x];if(0<a($,le))J[x]=le,J[ne]=$,ne=x;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ne=J.pop();if(ne!==le){J[0]=ne;e:for(var x=0,$=J.length,_e=$>>>1;x<_e;){var ve=2*(x+1)-1,Te=J[ve],Ie=ve+1,Me=J[Ie];if(0>a(Te,ne))Ie<$&&0>a(Me,Te)?(J[x]=Me,J[Ie]=ne,x=Ie):(J[x]=Te,J[ve]=ne,x=ve);else if(Ie<$&&0>a(Me,ne))J[x]=Me,J[Ie]=ne,x=Ie;else break e}}return le}function a(J,le){var ne=J.sortIndex-le.sortIndex;return ne!==0?ne:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var _=[],v=[],w=1,C=null,N=3,B=!1,Y=!1,X=!1,W=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(J){for(var le=n(v);le!==null;){if(le.callback===null)s(v);else if(le.startTime<=J)s(v),le.sortIndex=le.expirationTime,e(_,le);else break;le=n(v)}}function Ne(J){if(X=!1,ye(J),!Y)if(n(_)!==null)Y=!0,Ct(be);else{var le=n(v);le!==null&&Ge(Ne,le.startTime-J)}}function be(J,le){Y=!1,X&&(X=!1,Ee(I),I=-1),B=!0;var ne=N;try{for(ye(le),C=n(_);C!==null&&(!(C.expirationTime>le)||J&&!P());){var x=C.callback;if(typeof x=="function"){C.callback=null,N=C.priorityLevel;var $=x(C.expirationTime<=le);le=i.unstable_now(),typeof $=="function"?C.callback=$:C===n(_)&&s(_),ye(le)}else s(_);C=n(_)}if(C!==null)var _e=!0;else{var ve=n(v);ve!==null&&Ge(Ne,ve.startTime-le),_e=!1}return _e}finally{C=null,N=ne,B=!1}}var Ce=!1,k=null,I=-1,A=5,D=-1;function P(){return!(i.unstable_now()-D<A)}function O(){if(k!==null){var J=i.unstable_now();D=J;var le=!0;try{le=k(!0,J)}finally{le?S():(Ce=!1,k=null)}}else Ce=!1}var S;if(typeof ge=="function")S=function(){ge(O)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,mt=Be.port2;Be.port1.onmessage=O,S=function(){mt.postMessage(null)}}else S=function(){W(O,0)};function Ct(J){k=J,Ce||(Ce=!0,S())}function Ge(J,le){I=W(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Y||B||(Y=!0,Ct(be))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(J){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var ne=N;N=le;try{return J()}finally{N=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=N;N=J;try{return le()}finally{N=ne}},i.unstable_scheduleCallback=function(J,le,ne){var x=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?x+ne:x):ne=x,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ne+$,J={id:w++,callback:le,priorityLevel:J,startTime:ne,expirationTime:$,sortIndex:-1},ne>x?(J.sortIndex=ne,e(v,J),n(_)===null&&J===n(v)&&(X?(Ee(I),I=-1):X=!0,Ge(Ne,ne-x))):(J.sortIndex=$,e(_,J),Y||B||(Y=!0,Ct(be))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var le=N;return function(){var ne=N;N=le;try{return J.apply(this,arguments)}finally{N=ne}}}})(Xc)),Xc}var Dp;function j_(){return Dp||(Dp=1,Kc.exports=B_()),Kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function $_(){if(Np)return qt;Np=1;var i=Vh(),e=j_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function N(t){return _.call(C,t)?!0:_.call(w,t)?!1:v.test(t)?C[t]=!0:(w[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,d,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=d,this.removeEmptyString=y}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];W[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Ee,ge);W[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Ee,ge);W[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Ee,ge);W[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=W.hasOwnProperty(r)?W[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,h,u)&&(o=null),u||h===null?N(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Ne=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,x;function $(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var _e=!1;function ve(t,r){if(!t||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,T=d.length-1;1<=y&&0<=T&&h[y]!==d[T];)T--;for(;1<=y&&0<=T;y--,T--)if(h[y]!==d[T]){if(y!==1||T!==1)do if(y--,T--,0>T||h[y]!==d[T]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=T);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function Te(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Ie(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ce:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Be:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mt:return r=t.displayName||null,r!==null?r:Ie(t.type)||"Memo";case Ct:r=t._payload,t=t._init;try{return Ie(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ue(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lt(t){var r=Ue(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function qi(t){t._valueTracker||(t._valueTracker=Lt(t))}function Js(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Ue(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function _r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hi(t,r){var o=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function va(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Ve(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Wi(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function li(t,r){Wi(t,r);var o=Ve(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?st(t,r.type,o):r.hasOwnProperty("defaultValue")&&st(t,r.type,Ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Zs(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function st(t,r,o){(r!=="number"||_r(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tt=Array.isArray;function pn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ve(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function eo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function to(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tt(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Ve(o)}}function Ea(t,r){var o=Ve(r.value),u=Ve(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function vr(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function no(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?no(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Er,wa=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ui(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ta=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(t){Ta.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),wr[r]=wr[t]})});function Tr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||wr.hasOwnProperty(t)&&wr[t]?(""+r).trim():r+"px"}function Gi(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Tr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ro=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mn(t,r){if(r){if(ro[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Ki(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function Xi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yn=null,Jn=null,Ze=null;function io(t){if(t=No(t)){if(typeof Yn!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ka(r),Yn(t.stateNode,t.type,r))}}function Sr(t){Jn?Ze?Ze.push(t):Ze=[t]:Jn=t}function Ar(){if(Jn){var t=Jn,r=Ze;if(Ze=Jn=null,io(t),r)for(t=0;t<r.length;t++)io(r[t])}}function Ia(t,r){return t(r)}function Sa(){}var Rn=!1;function Aa(t,r,o){if(Rn)return t(r,o);Rn=!0;try{return Ia(t,r,o)}finally{Rn=!1,(Jn!==null||Ze!==null)&&(Sa(),Ar())}}function ci(t,r){var o=t.stateNode;if(o===null)return null;var u=Ka(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Rr=!1;if(g)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Rr=!1}function Ra(t,r,o,u,h,d,y,T,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(H){this.onError(H)}}var Zn=!1,Cn=null,Yi=!1,sn=null,Ca={onError:function(t){Zn=!0,Cn=t}};function Pa(t,r,o,u,h,d,y,T,R){Zn=!1,Cn=null,Ra.apply(Ca,arguments)}function so(t,r,o,u,h,d,y,T,R){if(Pa.apply(this,arguments),Zn){if(Zn){var U=Cn;Zn=!1,Cn=null}else throw Error(n(198));Yi||(Yi=!0,sn=U)}}function gn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function oo(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function ka(t){if(gn(t)!==t)throw Error(n(188))}function Va(t){var r=t.alternate;if(!r){if(r=gn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===o)return ka(h),t;if(d===u)return ka(h),r;d=d.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=d;else{for(var y=!1,T=h.child;T;){if(T===o){y=!0,o=h,u=d;break}if(T===u){y=!0,u=h,o=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===o){y=!0,o=d,u=h;break}if(T===u){y=!0,u=d,o=h;break}T=T.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Da(t){return t=Va(t),t!==null?hi(t):null}function hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=hi(t);if(r!==null)return r;t=t.sibling}return null}var ao=e.unstable_scheduleCallback,Ji=e.unstable_cancelCallback,fi=e.unstable_shouldYield,er=e.unstable_requestPaint,qe=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,lo=e.unstable_UserBlockingPriority,di=e.unstable_NormalPriority,uo=e.unstable_LowPriority,es=e.unstable_IdlePriority,pi=null,Qt=null;function Na(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:mi,Pn=Math.log,on=Math.LN2;function mi(t){return t>>>=0,t===0?32:31-(Pn(t)/on|0)|0}var kn=64,Pr=4194304;function Oe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tr(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,y=o&268435455;if(y!==0){var T=y&~h;T!==0?u=Oe(T):(d&=y,d!==0&&(u=Oe(d)))}else y=o&~h,y!==0?u=Oe(y):d!==0&&(u=Oe(d));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,d=r&-r,h>=d||h===16&&(d&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Gt(r),h=1<<o,u|=t[o],r&=~h;return u}function gi(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-Gt(d),T=1<<y,R=h[y];R===-1?((T&o)===0||(T&u)!==0)&&(h[y]=gi(T,r)):R<=r&&(t.expiredLanes|=T),d&=~T}}function co(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ho(){var t=kn;return kn<<=1,(kn&4194240)===0&&(kn=64),t}function fo(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function _i(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Gt(r),t[r]=o}function Su(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Gt(o),d=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~d}}function po(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Gt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Re=0;function Vn(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var mo,ts,go,yo,_o,Dn=!1,ns=[],Nn=null,xn=null,Et=null,vi=new Map,nr=new Map,Kt=[],xa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kr(t,r){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":vi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(r.pointerId)}}function yn(t,r,o,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},r!==null&&(r=No(r),r!==null&&ts(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Oa(t,r,o,u,h){switch(r){case"focusin":return Nn=yn(Nn,t,r,o,u,h),!0;case"dragenter":return xn=yn(xn,t,r,o,u,h),!0;case"mouseover":return Et=yn(Et,t,r,o,u,h),!0;case"pointerover":var d=h.pointerId;return vi.set(d,yn(vi.get(d)||null,t,r,o,u,h)),!0;case"gotpointercapture":return d=h.pointerId,nr.set(d,yn(nr.get(d)||null,t,r,o,u,h)),!0}return!1}function rs(t){var r=Ii(t.target);if(r!==null){var o=gn(r);if(o!==null){if(r=o.tag,r===13){if(r=oo(o),r!==null){t.blockedOn=r,_o(t.priority,function(){go(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ze(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=is(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ir=u,o.target.dispatchEvent(u),Ir=null}else return r=No(o),r!==null&&ts(r),t.blockedOn=o,!1;r.shift()}return!0}function Ma(t,r,o){ze(t)&&o.delete(r)}function Au(){Dn=!1,Nn!==null&&ze(Nn)&&(Nn=null),xn!==null&&ze(xn)&&(xn=null),Et!==null&&ze(Et)&&(Et=null),vi.forEach(Ma),nr.forEach(Ma)}function Vr(t,r){t.blockedOn===r&&(t.blockedOn=null,Dn||(Dn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Au)))}function Dr(t){function r(h){return Vr(h,t)}if(0<ns.length){Vr(ns[0],t);for(var o=1;o<ns.length;o++){var u=ns[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Nn!==null&&Vr(Nn,t),xn!==null&&Vr(xn,t),Et!==null&&Vr(Et,t),vi.forEach(r),nr.forEach(r),o=0;o<Kt.length;o++)u=Kt[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Kt.length&&(o=Kt[0],o.blockedOn===null);)rs(o),o.blockedOn===null&&Kt.shift()}var rr=Ne.ReactCurrentBatchConfig,ir=!0;function On(t,r,o,u){var h=Re,d=rr.transition;rr.transition=null;try{Re=1,vo(t,r,o,u)}finally{Re=h,rr.transition=d}}function La(t,r,o,u){var h=Re,d=rr.transition;rr.transition=null;try{Re=4,vo(t,r,o,u)}finally{Re=h,rr.transition=d}}function vo(t,r,o,u){if(ir){var h=is(t,r,o,u);if(h===null)Lu(t,r,u,Mn,o),kr(t,u);else if(Oa(h,t,r,o,u))u.stopPropagation();else if(kr(t,u),r&4&&-1<xa.indexOf(t)){for(;h!==null;){var d=No(h);if(d!==null&&mo(d),d=is(t,r,o,u),d===null&&Lu(t,r,u,Mn,o),d===h)break;h=d}h!==null&&u.stopPropagation()}else Lu(t,r,u,null,o)}}var Mn=null;function is(t,r,o,u){if(Mn=null,t=Xi(u),t=Ii(t),t!==null)if(r=gn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=oo(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Mn=t,null}function ss(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case Zi:return 1;case lo:return 4;case di:case uo:return 16;case es:return 536870912;default:return 16}default:return 16}}var Xt=null,os=null,sr=null;function Fa(){if(sr)return sr;var t,r=os,o=r.length,u,h="value"in Xt?Xt.value:Xt.textContent,d=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[d-u];u++);return sr=h.slice(t,1<u?1-u:void 0)}function Ei(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function Eo(){return!1}function Pt(t){function r(o,u,h,d,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ln:Eo,this.isPropagationStopped=Eo,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Pt(Fn),Nr=ne({},Fn,{view:0,detail:0}),as=Pt(Nr),ls,us,Yt,Ti=ne({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pe,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yt&&(Yt&&t.type==="mousemove"?(ls=t.screenX-Yt.screenX,us=t.screenY-Yt.screenY):us=ls=0,Yt=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:us}}),wo=Pt(Ti),Ua=ne({},Ti,{dataTransfer:0}),za=Pt(Ua),cs=ne({},Nr,{relatedTarget:0}),wt=Pt(cs),ba=ne({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=Pt(ba),xr=ne({},Fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l=Pt(xr),p=ne({},Fn,{data:0}),m=Pt(p),E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=z[t])?!!r[t]:!1}function pe(){return K}var nt=ne({},Nr,{key:function(t){if(t.key){var r=E[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pe,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fe=Pt(nt),ot=ne({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jt=Pt(ot),or=ne({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pe}),Un=Pt(or),zn=ne({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hs=Pt(zn),To=ne({},Ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Pt(To),xy=[9,13,27,32],Ru=g&&"CompositionEvent"in window,Io=null;g&&"documentMode"in document&&(Io=document.documentMode);var Oy=g&&"TextEvent"in window&&!Io,_f=g&&(!Ru||Io&&8<Io&&11>=Io),vf=" ",Ef=!1;function wf(t,r){switch(t){case"keyup":return xy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function My(t,r){switch(t){case"compositionend":return Tf(r);case"keypress":return r.which!==32?null:(Ef=!0,vf);case"textInput":return t=r.data,t===vf&&Ef?null:t;default:return null}}function Ly(t,r){if(fs)return t==="compositionend"||!Ru&&wf(t,r)?(t=Fa(),sr=os=Xt=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _f&&r.locale!=="ko"?null:r.data;default:return null}}var Fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Fy[t.type]:r==="textarea"}function Sf(t,r,o,u){Sr(u),r=Wa(r,"onChange"),0<r.length&&(o=new wi("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Ao=null;function Uy(t){jf(t,0)}function ja(t){var r=ys(t);if(Js(r))return t}function zy(t,r){if(t==="change")return r}var Af=!1;if(g){var Cu;if(g){var Pu="oninput"in document;if(!Pu){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),Pu=typeof Rf.oninput=="function"}Cu=Pu}else Cu=!1;Af=Cu&&(!document.documentMode||9<document.documentMode)}function Cf(){So&&(So.detachEvent("onpropertychange",Pf),Ao=So=null)}function Pf(t){if(t.propertyName==="value"&&ja(Ao)){var r=[];Sf(r,Ao,t,Xi(t)),Aa(Uy,r)}}function by(t,r,o){t==="focusin"?(Cf(),So=r,Ao=o,So.attachEvent("onpropertychange",Pf)):t==="focusout"&&Cf()}function By(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(Ao)}function jy(t,r){if(t==="click")return ja(r)}function $y(t,r){if(t==="input"||t==="change")return ja(r)}function qy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:qy;function Ro(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vf(t,r){var o=kf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kf(o)}}function Df(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Df(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Nf(){for(var t=window,r=_r();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=_r(t.document)}return r}function ku(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Hy(t){var r=Nf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Df(o.ownerDocument.documentElement,o)){if(u!==null&&ku(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=Vf(o,d);var y=Vf(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wy=g&&"documentMode"in document&&11>=document.documentMode,ds=null,Vu=null,Co=null,Du=!1;function xf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Du||ds==null||ds!==_r(u)||(u=ds,"selectionStart"in u&&ku(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Co&&Ro(Co,u)||(Co=u,u=Wa(Vu,"onSelect"),0<u.length&&(r=new wi("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ds)))}function $a(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ps={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},Nu={},Of={};g&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function qa(t){if(Nu[t])return Nu[t];if(!ps[t])return t;var r=ps[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Of)return Nu[t]=r[o];return t}var Mf=qa("animationend"),Lf=qa("animationiteration"),Ff=qa("animationstart"),Uf=qa("transitionend"),zf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,r){zf.set(t,r),c(r,[t])}for(var xu=0;xu<bf.length;xu++){var Ou=bf[xu],Qy=Ou.toLowerCase(),Gy=Ou[0].toUpperCase()+Ou.slice(1);Or(Qy,"on"+Gy)}Or(Mf,"onAnimationEnd"),Or(Lf,"onAnimationIteration"),Or(Ff,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Uf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Bf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,so(u,r,void 0,t),t.currentTarget=null}function jf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var y=u.length-1;0<=y;y--){var T=u[y],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;Bf(h,T,U),d=R}else for(y=0;y<u.length;y++){if(T=u[y],R=T.instance,U=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;Bf(h,T,U),d=R}}}if(Yi)throw t=sn,Yi=!1,sn=null,t}function He(t,r){var o=r[ju];o===void 0&&(o=r[ju]=new Set);var u=t+"__bubble";o.has(u)||($f(r,t,2,!1),o.add(u))}function Mu(t,r,o){var u=0;r&&(u|=4),$f(o,t,u,r)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[Ha]){t[Ha]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ky.has(o)||Mu(o,!1,t),Mu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ha]||(r[Ha]=!0,Mu("selectionchange",!1,r))}}function $f(t,r,o,u){switch(ss(r)){case 1:var h=On;break;case 4:h=La;break;default:h=vo}o=h.bind(null,r,o,t),h=void 0,!Rr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Lu(t,r,o,u,h){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;T!==null;){if(y=Ii(T),y===null)return;if(R=y.tag,R===5||R===6){u=d=y;continue e}T=T.parentNode}}u=u.return}Aa(function(){var U=d,H=Xi(o),Q=[];e:{var q=zf.get(t);if(q!==void 0){var Z=wi,ie=t;switch(t){case"keypress":if(Ei(o)===0)break e;case"keydown":case"keyup":Z=Fe;break;case"focusin":ie="focus",Z=wt;break;case"focusout":ie="blur",Z=wt;break;case"beforeblur":case"afterblur":Z=wt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Un;break;case Mf:case Lf:case Ff:Z=Ba;break;case Uf:Z=hs;break;case"scroll":Z=as;break;case"wheel":Z=Ny;break;case"copy":case"cut":case"paste":Z=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Jt}var se=(r&4)!==0,rt=!se&&t==="scroll",M=se?q!==null?q+"Capture":null:q;se=[];for(var V=U,F;V!==null;){F=V;var G=F.stateNode;if(F.tag===5&&G!==null&&(F=G,M!==null&&(G=ci(V,M),G!=null&&se.push(Vo(V,G,F)))),rt)break;V=V.return}0<se.length&&(q=new Z(q,ie,null,o,H),Q.push({event:q,listeners:se}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==Ir&&(ie=o.relatedTarget||o.fromElement)&&(Ii(ie)||ie[ar]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=U,ie=ie?Ii(ie):null,ie!==null&&(rt=gn(ie),ie!==rt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=U),Z!==ie)){if(se=wo,G="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(se=Jt,G="onPointerLeave",M="onPointerEnter",V="pointer"),rt=Z==null?q:ys(Z),F=ie==null?q:ys(ie),q=new se(G,V+"leave",Z,o,H),q.target=rt,q.relatedTarget=F,G=null,Ii(H)===U&&(se=new se(M,V+"enter",ie,o,H),se.target=F,se.relatedTarget=rt,G=se),rt=G,Z&&ie)t:{for(se=Z,M=ie,V=0,F=se;F;F=ms(F))V++;for(F=0,G=M;G;G=ms(G))F++;for(;0<V-F;)se=ms(se),V--;for(;0<F-V;)M=ms(M),F--;for(;V--;){if(se===M||M!==null&&se===M.alternate)break t;se=ms(se),M=ms(M)}se=null}else se=null;Z!==null&&qf(Q,q,Z,se,!1),ie!==null&&rt!==null&&qf(Q,rt,ie,se,!0)}}e:{if(q=U?ys(U):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var oe=zy;else if(If(q))if(Af)oe=$y;else{oe=By;var ue=by}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(oe=jy);if(oe&&(oe=oe(t,U))){Sf(Q,oe,o,H);break e}ue&&ue(t,q,U),t==="focusout"&&(ue=q._wrapperState)&&ue.controlled&&q.type==="number"&&st(q,"number",q.value)}switch(ue=U?ys(U):window,t){case"focusin":(If(ue)||ue.contentEditable==="true")&&(ds=ue,Vu=U,Co=null);break;case"focusout":Co=Vu=ds=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,xf(Q,o,H);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":xf(Q,o,H)}var ce;if(Ru)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else fs?wf(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(_f&&o.locale!=="ko"&&(fs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&fs&&(ce=Fa()):(Xt=H,os="value"in Xt?Xt.value:Xt.textContent,fs=!0)),ue=Wa(U,fe),0<ue.length&&(fe=new m(fe,t,null,o,H),Q.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=Tf(o),ce!==null&&(fe.data=ce)))),(ce=Oy?My(t,o):Ly(t,o))&&(U=Wa(U,"onBeforeInput"),0<U.length&&(H=new m("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:U}),H.data=ce))}jf(Q,r)})}function Vo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Wa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=ci(t,o),d!=null&&u.unshift(Vo(t,d,h)),d=ci(t,r),d!=null&&u.push(Vo(t,d,h))),t=t.return}return u}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qf(t,r,o,u,h){for(var d=r._reactName,y=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&U!==null&&(T=U,h?(R=ci(o,d),R!=null&&y.unshift(Vo(o,R,T))):h||(R=ci(o,d),R!=null&&y.push(Vo(o,R,T)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Xy=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function Hf(t){return(typeof t=="string"?t:""+t).replace(Xy,`
`).replace(Yy,"")}function Qa(t,r,o){if(r=Hf(r),Hf(t)!==r&&o)throw Error(n(425))}function Ga(){}var Fu=null,Uu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(t){return Wf.resolve(null).then(t).catch(e_)}:bu;function e_(t){setTimeout(function(){throw t})}function Bu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Dr(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Dr(r)}function Mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Qf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),bn="__reactFiber$"+gs,Do="__reactProps$"+gs,ar="__reactContainer$"+gs,ju="__reactEvents$"+gs,t_="__reactListeners$"+gs,n_="__reactHandles$"+gs;function Ii(t){var r=t[bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Qf(t);t!==null;){if(o=t[bn])return o;t=Qf(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[bn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ka(t){return t[Do]||null}var $u=[],_s=-1;function Lr(t){return{current:t}}function We(t){0>_s||(t.current=$u[_s],$u[_s]=null,_s--)}function je(t,r){_s++,$u[_s]=t.current,t.current=r}var Fr={},kt=Lr(Fr),zt=Lr(!1),Si=Fr;function vs(t,r){var o=t.type.contextTypes;if(!o)return Fr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in o)h[d]=r[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function bt(t){return t=t.childContextTypes,t!=null}function Xa(){We(zt),We(kt)}function Gf(t,r,o){if(kt.current!==Fr)throw Error(n(168));je(kt,r),je(zt,o)}function Kf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return ne({},o,u)}function Ya(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,Si=kt.current,je(kt,t),je(zt,zt.current),!0}function Xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Kf(t,r,Si),u.__reactInternalMemoizedMergedChildContext=t,We(zt),We(kt),je(kt,t)):We(zt),je(zt,o)}var lr=null,Ja=!1,qu=!1;function Yf(t){lr===null?lr=[t]:lr.push(t)}function r_(t){Ja=!0,Yf(t)}function Ur(){if(!qu&&lr!==null){qu=!0;var t=0,r=Re;try{var o=lr;for(Re=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,Ja=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),ao(Zi,Ur),h}finally{Re=r,qu=!1}}return null}var Es=[],ws=0,Za=null,el=0,an=[],ln=0,Ai=null,ur=1,cr="";function Ri(t,r){Es[ws++]=el,Es[ws++]=Za,Za=t,el=r}function Jf(t,r,o){an[ln++]=ur,an[ln++]=cr,an[ln++]=Ai,Ai=t;var u=ur;t=cr;var h=32-Gt(u)-1;u&=~(1<<h),o+=1;var d=32-Gt(r)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,ur=1<<32-Gt(r)+h|o<<h|u,cr=d+t}else ur=1<<d|o<<h|u,cr=t}function Hu(t){t.return!==null&&(Ri(t,1),Jf(t,1,0))}function Wu(t){for(;t===Za;)Za=Es[--ws],Es[ws]=null,el=Es[--ws],Es[ws]=null;for(;t===Ai;)Ai=an[--ln],an[ln]=null,cr=an[--ln],an[ln]=null,ur=an[--ln],an[ln]=null}var Zt=null,en=null,Ke=!1,vn=null;function Zf(t,r){var o=fn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ed(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Zt=t,en=Mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Zt=t,en=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ai!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=fn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Zt=t,en=null,!0):!1;default:return!1}}function Qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gu(t){if(Ke){var r=en;if(r){var o=r;if(!ed(t,r)){if(Qu(t))throw Error(n(418));r=Mr(o.nextSibling);var u=Zt;r&&ed(t,r)?Zf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,Zt=t)}}else{if(Qu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,Zt=t}}}function td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function tl(t){if(t!==Zt)return!1;if(!Ke)return td(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=en)){if(Qu(t))throw nd(),Error(n(418));for(;r;)Zf(t,r),r=Mr(r.nextSibling)}if(td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){en=Mr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}en=null}}else en=Zt?Mr(t.stateNode.nextSibling):null;return!0}function nd(){for(var t=en;t;)t=Mr(t.nextSibling)}function Ts(){en=Zt=null,Ke=!1}function Ku(t){vn===null?vn=[t]:vn.push(t)}var i_=Ne.ReactCurrentBatchConfig;function xo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,d=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=function(y){var T=h.refs;y===null?delete T[d]:T[d]=y},r._stringRef=d,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function nl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function rd(t){var r=t._init;return r(t._payload)}function id(t){function r(M,V){if(t){var F=M.deletions;F===null?(M.deletions=[V],M.flags|=16):F.push(V)}}function o(M,V){if(!t)return null;for(;V!==null;)r(M,V),V=V.sibling;return null}function u(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(M,V){return M=Wr(M,V),M.index=0,M.sibling=null,M}function d(M,V,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<V?(M.flags|=2,V):F):(M.flags|=2,V)):(M.flags|=1048576,V)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,V,F,G){return V===null||V.tag!==6?(V=bc(F,M.mode,G),V.return=M,V):(V=h(V,F),V.return=M,V)}function R(M,V,F,G){var oe=F.type;return oe===k?H(M,V,F.props.children,G,F.key):V!==null&&(V.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ct&&rd(oe)===V.type)?(G=h(V,F.props),G.ref=xo(M,V,F),G.return=M,G):(G=Rl(F.type,F.key,F.props,null,M.mode,G),G.ref=xo(M,V,F),G.return=M,G)}function U(M,V,F,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Bc(F,M.mode,G),V.return=M,V):(V=h(V,F.children||[]),V.return=M,V)}function H(M,V,F,G,oe){return V===null||V.tag!==7?(V=Oi(F,M.mode,G,oe),V.return=M,V):(V=h(V,F),V.return=M,V)}function Q(M,V,F){if(typeof V=="string"&&V!==""||typeof V=="number")return V=bc(""+V,M.mode,F),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case be:return F=Rl(V.type,V.key,V.props,null,M.mode,F),F.ref=xo(M,null,V),F.return=M,F;case Ce:return V=Bc(V,M.mode,F),V.return=M,V;case Ct:var G=V._init;return Q(M,G(V._payload),F)}if(tt(V)||le(V))return V=Oi(V,M.mode,F,null),V.return=M,V;nl(M,V)}return null}function q(M,V,F,G){var oe=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:T(M,V,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case be:return F.key===oe?R(M,V,F,G):null;case Ce:return F.key===oe?U(M,V,F,G):null;case Ct:return oe=F._init,q(M,V,oe(F._payload),G)}if(tt(F)||le(F))return oe!==null?null:H(M,V,F,G,null);nl(M,F)}return null}function Z(M,V,F,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number")return M=M.get(F)||null,T(V,M,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case be:return M=M.get(G.key===null?F:G.key)||null,R(V,M,G,oe);case Ce:return M=M.get(G.key===null?F:G.key)||null,U(V,M,G,oe);case Ct:var ue=G._init;return Z(M,V,F,ue(G._payload),oe)}if(tt(G)||le(G))return M=M.get(F)||null,H(V,M,G,oe,null);nl(V,G)}return null}function ie(M,V,F,G){for(var oe=null,ue=null,ce=V,fe=V=0,_t=null;ce!==null&&fe<F.length;fe++){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var xe=q(M,ce,F[fe],G);if(xe===null){ce===null&&(ce=_t);break}t&&ce&&xe.alternate===null&&r(M,ce),V=d(xe,V,fe),ue===null?oe=xe:ue.sibling=xe,ue=xe,ce=_t}if(fe===F.length)return o(M,ce),Ke&&Ri(M,fe),oe;if(ce===null){for(;fe<F.length;fe++)ce=Q(M,F[fe],G),ce!==null&&(V=d(ce,V,fe),ue===null?oe=ce:ue.sibling=ce,ue=ce);return Ke&&Ri(M,fe),oe}for(ce=u(M,ce);fe<F.length;fe++)_t=Z(ce,M,fe,F[fe],G),_t!==null&&(t&&_t.alternate!==null&&ce.delete(_t.key===null?fe:_t.key),V=d(_t,V,fe),ue===null?oe=_t:ue.sibling=_t,ue=_t);return t&&ce.forEach(function(Qr){return r(M,Qr)}),Ke&&Ri(M,fe),oe}function se(M,V,F,G){var oe=le(F);if(typeof oe!="function")throw Error(n(150));if(F=oe.call(F),F==null)throw Error(n(151));for(var ue=oe=null,ce=V,fe=V=0,_t=null,xe=F.next();ce!==null&&!xe.done;fe++,xe=F.next()){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var Qr=q(M,ce,xe.value,G);if(Qr===null){ce===null&&(ce=_t);break}t&&ce&&Qr.alternate===null&&r(M,ce),V=d(Qr,V,fe),ue===null?oe=Qr:ue.sibling=Qr,ue=Qr,ce=_t}if(xe.done)return o(M,ce),Ke&&Ri(M,fe),oe;if(ce===null){for(;!xe.done;fe++,xe=F.next())xe=Q(M,xe.value,G),xe!==null&&(V=d(xe,V,fe),ue===null?oe=xe:ue.sibling=xe,ue=xe);return Ke&&Ri(M,fe),oe}for(ce=u(M,ce);!xe.done;fe++,xe=F.next())xe=Z(ce,M,fe,xe.value,G),xe!==null&&(t&&xe.alternate!==null&&ce.delete(xe.key===null?fe:xe.key),V=d(xe,V,fe),ue===null?oe=xe:ue.sibling=xe,ue=xe);return t&&ce.forEach(function(F_){return r(M,F_)}),Ke&&Ri(M,fe),oe}function rt(M,V,F,G){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case be:e:{for(var oe=F.key,ue=V;ue!==null;){if(ue.key===oe){if(oe=F.type,oe===k){if(ue.tag===7){o(M,ue.sibling),V=h(ue,F.props.children),V.return=M,M=V;break e}}else if(ue.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ct&&rd(oe)===ue.type){o(M,ue.sibling),V=h(ue,F.props),V.ref=xo(M,ue,F),V.return=M,M=V;break e}o(M,ue);break}else r(M,ue);ue=ue.sibling}F.type===k?(V=Oi(F.props.children,M.mode,G,F.key),V.return=M,M=V):(G=Rl(F.type,F.key,F.props,null,M.mode,G),G.ref=xo(M,V,F),G.return=M,M=G)}return y(M);case Ce:e:{for(ue=F.key;V!==null;){if(V.key===ue)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){o(M,V.sibling),V=h(V,F.children||[]),V.return=M,M=V;break e}else{o(M,V);break}else r(M,V);V=V.sibling}V=Bc(F,M.mode,G),V.return=M,M=V}return y(M);case Ct:return ue=F._init,rt(M,V,ue(F._payload),G)}if(tt(F))return ie(M,V,F,G);if(le(F))return se(M,V,F,G);nl(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,V!==null&&V.tag===6?(o(M,V.sibling),V=h(V,F),V.return=M,M=V):(o(M,V),V=bc(F,M.mode,G),V.return=M,M=V),y(M)):o(M,V)}return rt}var Is=id(!0),sd=id(!1),rl=Lr(null),il=null,Ss=null,Xu=null;function Yu(){Xu=Ss=il=null}function Ju(t){var r=rl.current;We(rl),t._currentValue=r}function Zu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function As(t,r){il=t,Xu=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Bt=!0),t.firstContext=null)}function un(t){var r=t._currentValue;if(Xu!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(il===null)throw Error(n(308));Ss=t,il.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var Ci=null;function ec(t){Ci===null?Ci=[t]:Ci.push(t)}function od(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ec(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zr=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function br(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,ec(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function sl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,po(t,o)}}function ld(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?h=d=y:d=d.next=y,o=o.next}while(o!==null);d===null?h=d=r:d=d.next=r}else h=d=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ol(t,r,o,u){var h=t.updateQueue;zr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,y===null?d=U:y.next=U,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==y&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=R))}if(d!==null){var Q=h.baseState;y=0,H=U=R=null,T=d;do{var q=T.lane,Z=T.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,se=T;switch(q=r,Z=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){Q=ie.call(Z,Q,q);break e}Q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,q=typeof ie=="function"?ie.call(Z,Q,q):ie,q==null)break e;Q=ne({},Q,q);break e;case 2:zr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[T]:q.push(T))}else Z={eventTime:Z,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=Z,R=Q):H=H.next=Z,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else d===null&&(h.shared.lanes=0);Vi|=y,t.lanes=y,t.memoizedState=Q}}function ud(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Oo={},Bn=Lr(Oo),Mo=Lr(Oo),Lo=Lr(Oo);function Pi(t){if(t===Oo)throw Error(n(174));return t}function nc(t,r){switch(je(Lo,r),je(Mo,t),je(Bn,Oo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Qi(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Qi(r,t)}We(Bn),je(Bn,r)}function Rs(){We(Bn),We(Mo),We(Lo)}function cd(t){Pi(Lo.current);var r=Pi(Bn.current),o=Qi(r,t.type);r!==o&&(je(Mo,t),je(Bn,o))}function rc(t){Mo.current===t&&(We(Bn),We(Mo))}var Xe=Lr(0);function al(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ic=[];function sc(){for(var t=0;t<ic.length;t++)ic[t]._workInProgressVersionPrimary=null;ic.length=0}var ll=Ne.ReactCurrentDispatcher,oc=Ne.ReactCurrentBatchConfig,ki=0,Ye=null,ft=null,gt=null,ul=!1,Fo=!1,Uo=0,s_=0;function Vt(){throw Error(n(321))}function ac(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!_n(t[o],r[o]))return!1;return!0}function lc(t,r,o,u,h,d){if(ki=d,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ll.current=t===null||t.memoizedState===null?u_:c_,t=o(u,h),Fo){d=0;do{if(Fo=!1,Uo=0,25<=d)throw Error(n(301));d+=1,gt=ft=null,r.updateQueue=null,ll.current=h_,t=o(u,h)}while(Fo)}if(ll.current=fl,r=ft!==null&&ft.next!==null,ki=0,gt=ft=Ye=null,ul=!1,r)throw Error(n(300));return t}function uc(){var t=Uo!==0;return Uo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ye.memoizedState=gt=t:gt=gt.next=t,gt}function cn(){if(ft===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=gt===null?Ye.memoizedState:gt.next;if(r!==null)gt=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?Ye.memoizedState=gt=t:gt=gt.next=t}return gt}function zo(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ft,h=u.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,o.pending=null}if(h!==null){d=h.next,u=u.baseState;var T=y=null,R=null,U=d;do{var H=U.lane;if((ki&H)===H)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Q={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(T=R=Q,y=u):R=R.next=Q,Ye.lanes|=H,Vi|=H}U=U.next}while(U!==null&&U!==d);R===null?y=u:R.next=T,_n(u,r.memoizedState)||(Bt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do d=h.lane,Ye.lanes|=d,Vi|=d,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function hc(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,d=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);_n(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),o.lastRenderedState=d}return[d,u]}function hd(){}function fd(t,r){var o=Ye,u=cn(),h=r(),d=!_n(u.memoizedState,h);if(d&&(u.memoizedState=h,Bt=!0),u=u.queue,fc(md.bind(null,o,u,t),[t]),u.getSnapshot!==r||d||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,bo(9,pd.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));(ki&30)!==0||dd(o,r,h)}return h}function dd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function pd(t,r,o,u){r.value=o,r.getSnapshot=u,gd(r)&&yd(t)}function md(t,r,o){return o(function(){gd(r)&&yd(t)})}function gd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!_n(t,o)}catch{return!0}}function yd(t){var r=hr(t,1);r!==null&&In(r,t,1,-1)}function _d(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},r.queue=t,t=t.dispatch=l_.bind(null,Ye,t),[r.memoizedState,t]}function bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function vd(){return cn().memoizedState}function cl(t,r,o,u){var h=jn();Ye.flags|=t,h.memoizedState=bo(1|r,o,void 0,u===void 0?null:u)}function hl(t,r,o,u){var h=cn();u=u===void 0?null:u;var d=void 0;if(ft!==null){var y=ft.memoizedState;if(d=y.destroy,u!==null&&ac(u,y.deps)){h.memoizedState=bo(r,o,d,u);return}}Ye.flags|=t,h.memoizedState=bo(1|r,o,d,u)}function Ed(t,r){return cl(8390656,8,t,r)}function fc(t,r){return hl(2048,8,t,r)}function wd(t,r){return hl(4,2,t,r)}function Td(t,r){return hl(4,4,t,r)}function Id(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sd(t,r,o){return o=o!=null?o.concat([t]):null,hl(4,4,Id.bind(null,r,t),o)}function dc(){}function Ad(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Rd(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Cd(t,r,o){return(ki&21)===0?(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=o):(_n(o,r)||(o=ho(),Ye.lanes|=o,Vi|=o,t.baseState=!0),r)}function o_(t,r){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var u=oc.transition;oc.transition={};try{t(!1),r()}finally{Re=o,oc.transition=u}}function Pd(){return cn().memoizedState}function a_(t,r,o){var u=qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},kd(t))Vd(r,o);else if(o=od(t,r,o,u),o!==null){var h=Ut();In(o,t,u,h),Dd(o,r,u)}}function l_(t,r,o){var u=qr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Vd(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,T=d(y,o);if(h.hasEagerState=!0,h.eagerState=T,_n(T,y)){var R=r.interleaved;R===null?(h.next=h,ec(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=od(t,r,h,u),o!==null&&(h=Ut(),In(o,t,u,h),Dd(o,r,u))}}function kd(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Vd(t,r){Fo=ul=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Dd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,po(t,o)}}var fl={readContext:un,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},u_={readContext:un,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:un,useEffect:Ed,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,cl(4194308,4,Id.bind(null,r,t),o)},useLayoutEffect:function(t,r){return cl(4194308,4,t,r)},useInsertionEffect:function(t,r){return cl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=a_.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:_d,useDebugValue:dc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=_d(!1),r=t[0];return t=o_.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ye,h=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));(ki&30)!==0||dd(u,r,o)}h.memoizedState=o;var d={value:o,getSnapshot:r};return h.queue=d,Ed(md.bind(null,u,d,t),[t]),u.flags|=2048,bo(9,pd.bind(null,u,d,o,r),void 0,null),o},useId:function(){var t=jn(),r=yt.identifierPrefix;if(Ke){var o=cr,u=ur;o=(u&~(1<<32-Gt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Uo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=s_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},c_={readContext:un,useCallback:Ad,useContext:un,useEffect:fc,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Rd,useReducer:cc,useRef:vd,useState:function(){return cc(zo)},useDebugValue:dc,useDeferredValue:function(t){var r=cn();return Cd(r,ft.memoizedState,t)},useTransition:function(){var t=cc(zo)[0],r=cn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1},h_={readContext:un,useCallback:Ad,useContext:un,useEffect:fc,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Rd,useReducer:hc,useRef:vd,useState:function(){return hc(zo)},useDebugValue:dc,useDeferredValue:function(t){var r=cn();return ft===null?r.memoizedState=t:Cd(r,ft.memoizedState,t)},useTransition:function(){var t=hc(zo)[0],r=cn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1};function En(t,r){if(t&&t.defaultProps){r=ne({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function pc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ne({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var dl={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=qr(t),d=fr(u,h);d.payload=r,o!=null&&(d.callback=o),r=br(t,d,h),r!==null&&(In(r,t,h,u),sl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=qr(t),d=fr(u,h);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=br(t,d,h),r!==null&&(In(r,t,h,u),sl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),u=qr(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=br(t,h,u),r!==null&&(In(r,t,u,o),sl(r,t,u))}};function Nd(t,r,o,u,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,y):r.prototype&&r.prototype.isPureReactComponent?!Ro(o,u)||!Ro(h,d):!0}function xd(t,r,o){var u=!1,h=Fr,d=r.contextType;return typeof d=="object"&&d!==null?d=un(d):(h=bt(r)?Si:kt.current,u=r.contextTypes,d=(u=u!=null)?vs(t,h):Fr),r=new r(o,d),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),r}function Od(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&dl.enqueueReplaceState(r,r.state,null)}function mc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},tc(t);var d=r.contextType;typeof d=="object"&&d!==null?h.context=un(d):(d=bt(r)?Si:kt.current,h.context=vs(t,d)),h.state=t.memoizedState,d=r.getDerivedStateFromProps,typeof d=="function"&&(pc(t,r,d,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&dl.enqueueReplaceState(h,h.state,null),ol(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,r){try{var o="",u=r;do o+=Te(u),u=u.return;while(u);var h=o}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:r,stack:h,digest:null}}function gc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function yc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function Md(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){El||(El=!0,Nc=u),yc(t,r)},o}function Ld(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){yc(t,r)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){yc(t,r),typeof u!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Fd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new f_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=R_.bind(null,t,r,o),r.then(t,t))}function Ud(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function zd(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,br(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var d_=Ne.ReactCurrentOwner,Bt=!1;function Ft(t,r,o,u){r.child=t===null?sd(r,null,o,u):Is(r,t.child,o,u)}function bd(t,r,o,u,h){o=o.render;var d=r.ref;return As(r,h),u=lc(t,r,o,u,d,h),o=uc(),t!==null&&!Bt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ke&&o&&Hu(r),r.flags|=1,Ft(t,r,u,h),r.child)}function Bd(t,r,o,u,h){if(t===null){var d=o.type;return typeof d=="function"&&!zc(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=d,jd(t,r,d,u,h)):(t=Rl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,(t.lanes&h)===0){var y=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(y,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=Wr(d,u),t.ref=r.ref,t.return=r,r.child=t}function jd(t,r,o,u,h){if(t!==null){var d=t.memoizedProps;if(Ro(d,u)&&t.ref===r.ref)if(Bt=!1,r.pendingProps=u=d,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Bt=!0);else return r.lanes=t.lanes,dr(t,r,h)}return _c(t,r,o,u,h)}function $d(t,r,o){var u=r.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ks,tn),tn|=o;else{if((o&1073741824)===0)return t=d!==null?d.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(ks,tn),tn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:o,je(ks,tn),tn|=u}else d!==null?(u=d.baseLanes|o,r.memoizedState=null):u=o,je(ks,tn),tn|=u;return Ft(t,r,h,o),r.child}function qd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function _c(t,r,o,u,h){var d=bt(o)?Si:kt.current;return d=vs(r,d),As(r,h),o=lc(t,r,o,u,d,h),u=uc(),t!==null&&!Bt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ke&&u&&Hu(r),r.flags|=1,Ft(t,r,o,h),r.child)}function Hd(t,r,o,u,h){if(bt(o)){var d=!0;Ya(r)}else d=!1;if(As(r,h),r.stateNode===null)ml(t,r),xd(r,o,u),mc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,T=r.memoizedProps;y.props=T;var R=y.context,U=o.contextType;typeof U=="object"&&U!==null?U=un(U):(U=bt(o)?Si:kt.current,U=vs(r,U));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==u||R!==U)&&Od(r,y,u,U),zr=!1;var q=r.memoizedState;y.state=q,ol(r,u,y,h),R=r.memoizedState,T!==u||q!==R||zt.current||zr?(typeof H=="function"&&(pc(r,o,H,u),R=r.memoizedState),(T=zr||Nd(r,o,T,u,q,R,U))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=U,u=T):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,ad(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:En(r.type,T),y.props=U,Q=r.pendingProps,q=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=un(R):(R=bt(o)?Si:kt.current,R=vs(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==Q||q!==R)&&Od(r,y,u,R),zr=!1,q=r.memoizedState,y.state=q,ol(r,u,y,h);var ie=r.memoizedState;T!==Q||q!==ie||zt.current||zr?(typeof Z=="function"&&(pc(r,o,Z,u),ie=r.memoizedState),(U=zr||Nd(r,o,U,u,q,ie,R)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),y.props=u,y.state=ie,y.context=R,u=U):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return vc(t,r,o,u,d,h)}function vc(t,r,o,u,h,d){qd(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Xf(r,o,!1),dr(t,r,d);u=r.stateNode,d_.current=r;var T=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=Is(r,t.child,null,d),r.child=Is(r,null,T,d)):Ft(t,r,T,d),r.memoizedState=u.state,h&&Xf(r,o,!0),r.child}function Wd(t){var r=t.stateNode;r.pendingContext?Gf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gf(t,r.context,!1),nc(t,r.containerInfo)}function Qd(t,r,o,u,h){return Ts(),Ku(h),r.flags|=256,Ft(t,r,o,u),r.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gd(t,r,o){var u=r.pendingProps,h=Xe.current,d=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(d=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Xe,h&1),t===null)return Gu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,d?(u=r.mode,d=r.child,y={mode:"hidden",children:y},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=y):d=Cl(y,u,0,null),t=Oi(t,u,o,null),d.return=r,t.return=r,d.sibling=t,r.child=d,r.child.memoizedState=wc(o),r.memoizedState=Ec,t):Tc(r,y));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return p_(t,r,y,u,T,h,o);if(d){d=u.fallback,y=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Wr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?d=Wr(T,d):(d=Oi(d,y,o,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,y=t.child.memoizedState,y=y===null?wc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~o,r.memoizedState=Ec,u}return d=t.child,t=d.sibling,u=Wr(d,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Tc(t,r){return r=Cl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function pl(t,r,o,u){return u!==null&&Ku(u),Is(r,t.child,null,o),t=Tc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function p_(t,r,o,u,h,d,y){if(o)return r.flags&256?(r.flags&=-257,u=gc(Error(n(422))),pl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(d=u.fallback,h=r.mode,u=Cl({mode:"visible",children:u.children},h,0,null),d=Oi(d,h,y,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,(r.mode&1)!==0&&Is(r,t.child,null,y),r.child.memoizedState=wc(y),r.memoizedState=Ec,d);if((r.mode&1)===0)return pl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,d=Error(n(419)),u=gc(d,u,void 0),pl(t,r,y,u)}if(T=(y&t.childLanes)!==0,Bt||T){if(u=yt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,hr(t,h),In(u,t,h,-1))}return Uc(),u=gc(Error(n(421))),pl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=C_.bind(null,t),h._reactRetry=r,null):(t=d.treeContext,en=Mr(h.nextSibling),Zt=r,Ke=!0,vn=null,t!==null&&(an[ln++]=ur,an[ln++]=cr,an[ln++]=Ai,ur=t.id,cr=t.overflow,Ai=r),r=Tc(r,u.children),r.flags|=4096,r)}function Kd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Zu(t.return,r,o)}function Ic(t,r,o,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=o,d.tailMode=h)}function Xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,d=u.tail;if(Ft(t,r,u.children,o),u=Xe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kd(t,o,r);else if(t.tag===19)Kd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Xe,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&al(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ic(r,!1,h,o,d);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&al(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ic(r,!0,o,null,d);break;case"together":Ic(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ml(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Wr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Wr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function m_(t,r,o){switch(r.tag){case 3:Wd(r),Ts();break;case 5:cd(r);break;case 1:bt(r.type)&&Ya(r);break;case 4:nc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(rl,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Gd(t,r,o):(je(Xe,Xe.current&1),t=dr(t,r,o),t!==null?t.sibling:null);je(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,$d(t,r,o)}return dr(t,r,o)}var Yd,Sc,Jd,Zd;Yd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Sc=function(){},Jd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Pi(Bn.current);var d=null;switch(o){case"input":h=Hi(t,h),u=Hi(t,u),d=[];break;case"select":h=ne({},h,{value:void 0}),u=ne({},u,{value:void 0}),d=[];break;case"textarea":h=eo(t,h),u=eo(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ga)}mn(o,u);var y;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(y in T)T.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?d||(d=[]):(d=d||[]).push(U,null));for(U in u){var R=u[U];if(T=h?.[U],u.hasOwnProperty(U)&&R!==T&&(R!=null||T!=null))if(U==="style")if(T){for(y in T)!T.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&T[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(d||(d=[]),d.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(d=d||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(d=d||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&He("scroll",t),d||T===R||(d=[])):(d=d||[]).push(U,R))}o&&(d=d||[]).push("style",o);var U=d;(r.updateQueue=U)&&(r.flags|=4)}},Zd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Bo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function g_(t,r,o){var u=r.pendingProps;switch(Wu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return bt(r.type)&&Xa(),Dt(r),null;case 3:return u=r.stateNode,Rs(),We(zt),We(kt),sc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(tl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vn!==null&&(Mc(vn),vn=null))),Sc(t,r),Dt(r),null;case 5:rc(r);var h=Pi(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Jd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Pi(Bn.current),tl(r)){u=r.stateNode,o=r.type;var d=r.memoizedProps;switch(u[bn]=r,u[Do]=d,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(h=0;h<Po.length;h++)He(Po[h],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":va(u,d),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},He("invalid",u);break;case"textarea":to(u,d),He("invalid",u)}mn(o,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var T=d[y];y==="children"?typeof T=="string"?u.textContent!==T&&(d.suppressHydrationWarning!==!0&&Qa(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(d.suppressHydrationWarning!==!0&&Qa(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(y)&&T!=null&&y==="onScroll"&&He("scroll",u)}switch(o){case"input":qi(u),Zs(u,d,!0);break;case"textarea":qi(u),vr(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Ga)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=no(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[bn]=r,t[Do]=u,Yd(t,r,!1,!1),r.stateNode=t;e:{switch(y=Ki(o,u),o){case"dialog":He("cancel",t),He("close",t),h=u;break;case"iframe":case"object":case"embed":He("load",t),h=u;break;case"video":case"audio":for(h=0;h<Po.length;h++)He(Po[h],t);h=u;break;case"source":He("error",t),h=u;break;case"img":case"image":case"link":He("error",t),He("load",t),h=u;break;case"details":He("toggle",t),h=u;break;case"input":va(t,u),h=Hi(t,u),He("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ne({},u,{value:void 0}),He("invalid",t);break;case"textarea":to(t,u),h=eo(t,u),He("invalid",t);break;default:h=u}mn(o,h),T=h;for(d in T)if(T.hasOwnProperty(d)){var R=T[d];d==="style"?Gi(t,R):d==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&wa(t,R)):d==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&ui(t,R):typeof R=="number"&&ui(t,""+R):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?R!=null&&d==="onScroll"&&He("scroll",t):R!=null&&ye(t,d,R,y))}switch(o){case"input":qi(t),Zs(t,u,!1);break;case"textarea":qi(t),vr(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ve(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?pn(t,!!u.multiple,d,!1):u.defaultValue!=null&&pn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ga)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Zd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Pi(Lo.current),Pi(Bn.current),tl(r)){if(u=r.stateNode,o=r.memoizedProps,u[bn]=r,(d=u.nodeValue!==o)&&(t=Zt,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}d&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[bn]=r,r.stateNode=u}return Dt(r),null;case 13:if(We(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&en!==null&&(r.mode&1)!==0&&(r.flags&128)===0)nd(),Ts(),r.flags|=98560,d=!1;else if(d=tl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(n(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[bn]=r}else Ts(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),d=!1}else vn!==null&&(Mc(vn),vn=null),d=!0;if(!d)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Xe.current&1)!==0?dt===0&&(dt=3):Uc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Rs(),Sc(t,r),t===null&&ko(r.stateNode.containerInfo),Dt(r),null;case 10:return Ju(r.type._context),Dt(r),null;case 17:return bt(r.type)&&Xa(),Dt(r),null;case 19:if(We(Xe),d=r.memoizedState,d===null)return Dt(r),null;if(u=(r.flags&128)!==0,y=d.rendering,y===null)if(u)Bo(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=al(t),y!==null){for(r.flags|=128,Bo(d,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)d=o,t=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(Xe,Xe.current&1|2),r.child}t=t.sibling}d.tail!==null&&qe()>Vs&&(r.flags|=128,u=!0,Bo(d,!1),r.lanes=4194304)}else{if(!u)if(t=al(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Bo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ke)return Dt(r),null}else 2*qe()-d.renderingStartTime>Vs&&o!==1073741824&&(r.flags|=128,u=!0,Bo(d,!1),r.lanes=4194304);d.isBackwards?(y.sibling=r.child,r.child=y):(o=d.last,o!==null?o.sibling=y:r.child=y,d.last=y)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=qe(),r.sibling=null,o=Xe.current,je(Xe,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Fc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(tn&1073741824)!==0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function y_(t,r){switch(Wu(r),r.tag){case 1:return bt(r.type)&&Xa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rs(),We(zt),We(kt),sc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return rc(r),null;case 13:if(We(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ts()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Xe),null;case 4:return Rs(),null;case 10:return Ju(r.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var gl=!1,Nt=!1,__=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ps(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function Ac(t,r,o){try{o()}catch(u){et(t,r,u)}}var ep=!1;function v_(t,r){if(Fu=ir,t=Nf(),ku(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var y=0,T=-1,R=-1,U=0,H=0,Q=t,q=null;t:for(;;){for(var Z;Q!==o||h!==0&&Q.nodeType!==3||(T=y+h),Q!==d||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(Z=Q.firstChild)!==null;)q=Q,Q=Z;for(;;){if(Q===t)break t;if(q===o&&++U===h&&(T=y),q===d&&++H===u&&(R=y),(Z=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=Z}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Uu={focusedElem:t,selectionRange:o},ir=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,rt=ie.memoizedState,M=r.stateNode,V=M.getSnapshotBeforeUpdate(r.elementType===r.type?se:En(r.type,se),rt);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){et(r,r.return,G)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=ep,ep=!1,ie}function jo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&Ac(r,o,d)}h=h.next}while(h!==u)}}function yl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Rc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function tp(t){var r=t.alternate;r!==null&&(t.alternate=null,tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[Do],delete r[ju],delete r[t_],delete r[n_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function np(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ga));else if(u!==4&&(t=t.child,t!==null))for(Cc(t,r,o),t=t.sibling;t!==null;)Cc(t,r,o),t=t.sibling}function Pc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Pc(t,r,o),t=t.sibling;t!==null;)Pc(t,r,o),t=t.sibling}var Tt=null,wn=!1;function Br(t,r,o){for(o=o.child;o!==null;)ip(t,r,o),o=o.sibling}function ip(t,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 5:Nt||Ps(o,r);case 6:var u=Tt,h=wn;Tt=null,Br(t,r,o),Tt=u,wn=h,Tt!==null&&(wn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(wn?(t=Tt,o=o.stateNode,t.nodeType===8?Bu(t.parentNode,o):t.nodeType===1&&Bu(t,o),Dr(t)):Bu(Tt,o.stateNode));break;case 4:u=Tt,h=wn,Tt=o.stateNode.containerInfo,wn=!0,Br(t,r,o),Tt=u,wn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&((d&2)!==0||(d&4)!==0)&&Ac(o,r,y),h=h.next}while(h!==u)}Br(t,r,o);break;case 1:if(!Nt&&(Ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){et(o,r,T)}Br(t,r,o);break;case 21:Br(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Br(t,r,o),Nt=u):Br(t,r,o);break;default:Br(t,r,o)}}function sp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new __),r.forEach(function(u){var h=P_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Tn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var d=t,y=r,T=y;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,wn=!1;break e;case 3:Tt=T.stateNode.containerInfo,wn=!0;break e;case 4:Tt=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(Tt===null)throw Error(n(160));ip(d,y,h),Tt=null,wn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){et(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)op(r,t),r=r.sibling}function op(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(r,t),$n(t),u&4){try{jo(3,t,t.return),yl(3,t)}catch(se){et(t,t.return,se)}try{jo(5,t,t.return)}catch(se){et(t,t.return,se)}}break;case 1:Tn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return);break;case 5:if(Tn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return),t.flags&32){var h=t.stateNode;try{ui(h,"")}catch(se){et(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,y=o!==null?o.memoizedProps:d,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&d.type==="radio"&&d.name!=null&&Wi(h,d),Ki(T,y);var U=Ki(T,d);for(y=0;y<R.length;y+=2){var H=R[y],Q=R[y+1];H==="style"?Gi(h,Q):H==="dangerouslySetInnerHTML"?wa(h,Q):H==="children"?ui(h,Q):ye(h,H,Q,U)}switch(T){case"input":li(h,d);break;case"textarea":Ea(h,d);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Z=d.value;Z!=null?pn(h,!!d.multiple,Z,!1):q!==!!d.multiple&&(d.defaultValue!=null?pn(h,!!d.multiple,d.defaultValue,!0):pn(h,!!d.multiple,d.multiple?[]:"",!1))}h[Do]=d}catch(se){et(t,t.return,se)}}break;case 6:if(Tn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(se){et(t,t.return,se)}}break;case 3:if(Tn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Dr(r.containerInfo)}catch(se){et(t,t.return,se)}break;case 4:Tn(r,t),$n(t);break;case 13:Tn(r,t),$n(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(Dc=qe())),u&4&&sp(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||H,Tn(r,t),Nt=U):Tn(r,t),$n(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&(t.mode&1)!==0)for(re=t,H=t.child;H!==null;){for(Q=re=H;re!==null;){switch(q=re,Z=q.child,q.tag){case 0:case 11:case 14:case 15:jo(4,q,q.return);break;case 1:Ps(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){et(u,o,se)}}break;case 5:Ps(q,q.return);break;case 22:if(q.memoizedState!==null){up(Q);continue}}Z!==null?(Z.return=q,re=Z):up(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,U?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(T=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Tr("display",y))}catch(se){et(t,t.return,se)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(se){et(t,t.return,se)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Tn(r,t),$n(t),u&4&&sp(t);break;case 21:break;default:Tn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(np(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ui(h,""),u.flags&=-33);var d=rp(t);Pc(t,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,T=rp(t);Cc(t,T,y);break;default:throw Error(n(161))}}catch(R){et(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function E_(t,r,o){re=t,ap(t)}function ap(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||gl;if(!y){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Nt;T=gl;var U=Nt;if(gl=y,(Nt=R)&&!U)for(re=h;re!==null;)y=re,R=y.child,y.tag===22&&y.memoizedState!==null?cp(h):R!==null?(R.return=y,re=R):cp(h);for(;d!==null;)re=d,ap(d),d=d.sibling;re=h,gl=T,Nt=U}lp(t)}else(h.subtreeFlags&8772)!==0&&d!==null?(d.return=h,re=d):lp(t)}}function lp(t){for(;re!==null;){var r=re;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Nt||yl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:En(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=r.updateQueue;d!==null&&ud(r,d,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}ud(r,y,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&Dr(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Rc(r)}catch(q){et(r,r.return,q)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function up(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function cp(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{yl(4,r)}catch(R){et(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){et(r,h,R)}}var d=r.return;try{Rc(r)}catch(R){et(r,d,R)}break;case 5:var y=r.return;try{Rc(r)}catch(R){et(r,y,R)}}}catch(R){et(r,r.return,R)}if(r===t){re=null;break}var T=r.sibling;if(T!==null){T.return=r.return,re=T;break}re=r.return}}var w_=Math.ceil,_l=Ne.ReactCurrentDispatcher,kc=Ne.ReactCurrentOwner,hn=Ne.ReactCurrentBatchConfig,De=0,yt=null,at=null,It=0,tn=0,ks=Lr(0),dt=0,$o=null,Vi=0,vl=0,Vc=0,qo=null,jt=null,Dc=0,Vs=1/0,pr=null,El=!1,Nc=null,jr=null,wl=!1,$r=null,Tl=0,Ho=0,xc=null,Il=-1,Sl=0;function Ut(){return(De&6)!==0?qe():Il!==-1?Il:Il=qe()}function qr(t){return(t.mode&1)===0?1:(De&2)!==0&&It!==0?It&-It:i_.transition!==null?(Sl===0&&(Sl=ho()),Sl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:ss(t.type)),t)}function In(t,r,o,u){if(50<Ho)throw Ho=0,xc=null,Error(n(185));_i(t,o,u),((De&2)===0||t!==yt)&&(t===yt&&((De&2)===0&&(vl|=o),dt===4&&Hr(t,It)),$t(t,u),o===1&&De===0&&(r.mode&1)===0&&(Vs=qe()+500,Ja&&Ur()))}function $t(t,r){var o=t.callbackNode;yi(t,r);var u=tr(t,t===yt?It:0);if(u===0)o!==null&&Ji(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Ji(o),r===1)t.tag===0?r_(fp.bind(null,t)):Yf(fp.bind(null,t)),Zy(function(){(De&6)===0&&Ur()}),o=null;else{switch(Vn(u)){case 1:o=Zi;break;case 4:o=lo;break;case 16:o=di;break;case 536870912:o=es;break;default:o=di}o=Ep(o,hp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function hp(t,r){if(Il=-1,Sl=0,(De&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ds()&&t.callbackNode!==o)return null;var u=tr(t,t===yt?It:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Al(t,u);else{r=u;var h=De;De|=2;var d=pp();(yt!==t||It!==r)&&(pr=null,Vs=qe()+500,Ni(t,r));do try{S_();break}catch(T){dp(t,T)}while(!0);Yu(),_l.current=d,De=h,at!==null?r=0:(yt=null,It=0,r=dt)}if(r!==0){if(r===2&&(h=co(t),h!==0&&(u=h,r=Oc(t,h))),r===1)throw o=$o,Ni(t,0),Hr(t,u),$t(t,qe()),o;if(r===6)Hr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!T_(h)&&(r=Al(t,u),r===2&&(d=co(t),d!==0&&(u=d,r=Oc(t,d))),r===1))throw o=$o,Ni(t,0),Hr(t,u),$t(t,qe()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:xi(t,jt,pr);break;case 3:if(Hr(t,u),(u&130023424)===u&&(r=Dc+500-qe(),10<r)){if(tr(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=bu(xi.bind(null,t,jt,pr),r);break}xi(t,jt,pr);break;case 4:if(Hr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Gt(u);d=1<<y,y=r[y],y>h&&(h=y),u&=~d}if(u=h,u=qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*w_(u/1960))-u,10<u){t.timeoutHandle=bu(xi.bind(null,t,jt,pr),u);break}xi(t,jt,pr);break;case 5:xi(t,jt,pr);break;default:throw Error(n(329))}}}return $t(t,qe()),t.callbackNode===o?hp.bind(null,t):null}function Oc(t,r){var o=qo;return t.current.memoizedState.isDehydrated&&(Ni(t,r).flags|=256),t=Al(t,r),t!==2&&(r=jt,jt=o,r!==null&&Mc(r)),t}function Mc(t){jt===null?jt=t:jt.push.apply(jt,t)}function T_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(t,r){for(r&=~Vc,r&=~vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Gt(r),u=1<<o;t[o]=-1,r&=~u}}function fp(t){if((De&6)!==0)throw Error(n(327));Ds();var r=tr(t,0);if((r&1)===0)return $t(t,qe()),null;var o=Al(t,r);if(t.tag!==0&&o===2){var u=co(t);u!==0&&(r=u,o=Oc(t,u))}if(o===1)throw o=$o,Ni(t,0),Hr(t,r),$t(t,qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,xi(t,jt,pr),$t(t,qe()),null}function Lc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Vs=qe()+500,Ja&&Ur())}}function Di(t){$r!==null&&$r.tag===0&&(De&6)===0&&Ds();var r=De;De|=1;var o=hn.transition,u=Re;try{if(hn.transition=null,Re=1,t)return t()}finally{Re=u,hn.transition=o,De=r,(De&6)===0&&Ur()}}function Fc(){tn=ks.current,We(ks)}function Ni(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Jy(o)),at!==null)for(o=at.return;o!==null;){var u=o;switch(Wu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Xa();break;case 3:Rs(),We(zt),We(kt),sc();break;case 5:rc(u);break;case 4:Rs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Ju(u.type._context);break;case 22:case 23:Fc()}o=o.return}if(yt=t,at=t=Wr(t.current,null),It=tn=r,dt=0,$o=null,Vc=vl=Vi=0,jt=qo=null,Ci!==null){for(r=0;r<Ci.length;r++)if(o=Ci[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,d=o.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}o.pending=u}Ci=null}return t}function dp(t,r){do{var o=at;try{if(Yu(),ll.current=fl,ul){for(var u=Ye.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ul=!1}if(ki=0,gt=ft=Ye=null,Fo=!1,Uo=0,kc.current=null,o===null||o.return===null){dt=1,$o=r,at=null;break}e:{var d=t,y=o.return,T=o,R=r;if(r=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,H=T,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Ud(y);if(Z!==null){Z.flags&=-257,zd(Z,y,T,d,r),Z.mode&1&&Fd(d,U,r),r=Z,R=U;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(R),r.updateQueue=se}else ie.add(R);break e}else{if((r&1)===0){Fd(d,U,r),Uc();break e}R=Error(n(426))}}else if(Ke&&T.mode&1){var rt=Ud(y);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),zd(rt,y,T,d,r),Ku(Cs(R,T));break e}}d=R=Cs(R,T),dt!==4&&(dt=2),qo===null?qo=[d]:qo.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,r&=-r,d.lanes|=r;var M=Md(d,R,r);ld(d,M);break e;case 1:T=R;var V=d.type,F=d.stateNode;if((d.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(jr===null||!jr.has(F)))){d.flags|=65536,r&=-r,d.lanes|=r;var G=Ld(d,T,r);ld(d,G);break e}}d=d.return}while(d!==null)}gp(o)}catch(oe){r=oe,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function pp(){var t=_l.current;return _l.current=fl,t===null?fl:t}function Uc(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||(Vi&268435455)===0&&(vl&268435455)===0||Hr(yt,It)}function Al(t,r){var o=De;De|=2;var u=pp();(yt!==t||It!==r)&&(pr=null,Ni(t,r));do try{I_();break}catch(h){dp(t,h)}while(!0);if(Yu(),De=o,_l.current=u,at!==null)throw Error(n(261));return yt=null,It=0,dt}function I_(){for(;at!==null;)mp(at)}function S_(){for(;at!==null&&!fi();)mp(at)}function mp(t){var r=vp(t.alternate,t,tn);t.memoizedProps=t.pendingProps,r===null?gp(t):at=r,kc.current=null}function gp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=g_(o,r,tn),o!==null){at=o;return}}else{if(o=y_(o,r),o!==null){o.flags&=32767,at=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);dt===0&&(dt=5)}function xi(t,r,o){var u=Re,h=hn.transition;try{hn.transition=null,Re=1,A_(t,r,o,u)}finally{hn.transition=h,Re=u}return null}function A_(t,r,o,u){do Ds();while($r!==null);if((De&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var d=o.lanes|o.childLanes;if(Su(t,d),t===yt&&(at=yt=null,It=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||wl||(wl=!0,Ep(di,function(){return Ds(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=hn.transition,hn.transition=null;var y=Re;Re=1;var T=De;De|=4,kc.current=null,v_(t,o),op(o,t),Hy(Uu),ir=!!Fu,Uu=Fu=null,t.current=o,E_(o),er(),De=T,Re=y,hn.transition=d}else t.current=o;if(wl&&(wl=!1,$r=t,Tl=h),d=t.pendingLanes,d===0&&(jr=null),Na(o.stateNode),$t(t,qe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(El)throw El=!1,t=Nc,Nc=null,t;return(Tl&1)!==0&&t.tag!==0&&Ds(),d=t.pendingLanes,(d&1)!==0?t===xc?Ho++:(Ho=0,xc=t):Ho=0,Ur(),null}function Ds(){if($r!==null){var t=Vn(Tl),r=hn.transition,o=Re;try{if(hn.transition=null,Re=16>t?16:t,$r===null)var u=!1;else{if(t=$r,$r=null,Tl=0,(De&6)!==0)throw Error(n(331));var h=De;for(De|=4,re=t.current;re!==null;){var d=re,y=d.child;if((re.flags&16)!==0){var T=d.deletions;if(T!==null){for(var R=0;R<T.length;R++){var U=T[R];for(re=U;re!==null;){var H=re;switch(H.tag){case 0:case 11:case 15:jo(8,H,d)}var Q=H.child;if(Q!==null)Q.return=H,re=Q;else for(;re!==null;){H=re;var q=H.sibling,Z=H.return;if(tp(H),H===U){re=null;break}if(q!==null){q.return=Z,re=q;break}re=Z}}}var ie=d.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var rt=se.sibling;se.sibling=null,se=rt}while(se!==null)}}re=d}}if((d.subtreeFlags&2064)!==0&&y!==null)y.return=d,re=y;else e:for(;re!==null;){if(d=re,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:jo(9,d,d.return)}var M=d.sibling;if(M!==null){M.return=d.return,re=M;break e}re=d.return}}var V=t.current;for(re=V;re!==null;){y=re;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,re=F;else e:for(y=V;re!==null;){if(T=re,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:yl(9,T)}}catch(oe){et(T,T.return,oe)}if(T===y){re=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,re=G;break e}re=T.return}}if(De=h,Ur(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(pi,t)}catch{}u=!0}return u}finally{Re=o,hn.transition=r}}return!1}function yp(t,r,o){r=Cs(o,r),r=Md(t,r,1),t=br(t,r,1),r=Ut(),t!==null&&(_i(t,1,r),$t(t,r))}function et(t,r,o){if(t.tag===3)yp(t,t,o);else for(;r!==null;){if(r.tag===3){yp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jr===null||!jr.has(u))){t=Cs(o,t),t=Ld(r,t,1),r=br(r,t,1),t=Ut(),r!==null&&(_i(r,1,t),$t(r,t));break}}r=r.return}}function R_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(dt===4||dt===3&&(It&130023424)===It&&500>qe()-Dc?Ni(t,0):Vc|=o),$t(t,r)}function _p(t,r){r===0&&((t.mode&1)===0?r=1:(r=Pr,Pr<<=1,(Pr&130023424)===0&&(Pr=4194304)));var o=Ut();t=hr(t,r),t!==null&&(_i(t,r,o),$t(t,o))}function C_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),_p(t,o)}function P_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),_p(t,o)}var vp;vp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||zt.current)Bt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Bt=!1,m_(t,r,o);Bt=(t.flags&131072)!==0}else Bt=!1,Ke&&(r.flags&1048576)!==0&&Jf(r,el,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ml(t,r),t=r.pendingProps;var h=vs(r,kt.current);As(r,o),h=lc(null,r,u,t,h,o);var d=uc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,bt(u)?(d=!0,Ya(r)):d=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,tc(r),h.updater=dl,r.stateNode=h,h._reactInternals=r,mc(r,u,t,o),r=vc(null,r,u,!0,d,o)):(r.tag=0,Ke&&d&&Hu(r),Ft(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ml(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=V_(u),t=En(u,t),h){case 0:r=_c(null,r,u,t,o);break e;case 1:r=Hd(null,r,u,t,o);break e;case 11:r=bd(null,r,u,t,o);break e;case 14:r=Bd(null,r,u,En(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),_c(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),Hd(t,r,u,h,o);case 3:e:{if(Wd(r),t===null)throw Error(n(387));u=r.pendingProps,d=r.memoizedState,h=d.element,ad(t,r),ol(r,u,null,o);var y=r.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){h=Cs(Error(n(423)),r),r=Qd(t,r,u,o,h);break e}else if(u!==h){h=Cs(Error(n(424)),r),r=Qd(t,r,u,o,h);break e}else for(en=Mr(r.stateNode.containerInfo.firstChild),Zt=r,Ke=!0,vn=null,o=sd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),u===h){r=dr(t,r,o);break e}Ft(t,r,u,o)}r=r.child}return r;case 5:return cd(r),t===null&&Gu(r),u=r.type,h=r.pendingProps,d=t!==null?t.memoizedProps:null,y=h.children,zu(u,h)?y=null:d!==null&&zu(u,d)&&(r.flags|=32),qd(t,r),Ft(t,r,y,o),r.child;case 6:return t===null&&Gu(r),null;case 13:return Gd(t,r,o);case 4:return nc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Is(r,null,u,o):Ft(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),bd(t,r,u,h,o);case 7:return Ft(t,r,r.pendingProps,o),r.child;case 8:return Ft(t,r,r.pendingProps.children,o),r.child;case 12:return Ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,d=r.memoizedProps,y=h.value,je(rl,u._currentValue),u._currentValue=y,d!==null)if(_n(d.value,y)){if(d.children===h.children&&!zt.current){r=dr(t,r,o);break e}}else for(d=r.child,d!==null&&(d.return=r);d!==null;){var T=d.dependencies;if(T!==null){y=d.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(d.tag===1){R=fr(-1,o&-o),R.tag=2;var U=d.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?R.next=R:(R.next=H.next,H.next=R),U.pending=R}}d.lanes|=o,R=d.alternate,R!==null&&(R.lanes|=o),Zu(d.return,o,r),T.lanes|=o;break}R=R.next}}else if(d.tag===10)y=d.type===r.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(n(341));y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),Zu(y,o,r),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===r){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ft(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,As(r,o),h=un(h),u=u(h),r.flags|=1,Ft(t,r,u,o),r.child;case 14:return u=r.type,h=En(u,r.pendingProps),h=En(u.type,h),Bd(t,r,u,h,o);case 15:return jd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),ml(t,r),r.tag=1,bt(u)?(t=!0,Ya(r)):t=!1,As(r,o),xd(r,u,h),mc(r,u,h,o),vc(null,r,u,!0,t,o);case 19:return Xd(t,r,o);case 22:return $d(t,r,o)}throw Error(n(156,r.tag))};function Ep(t,r){return ao(t,r)}function k_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,o,u){return new k_(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V_(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===mt)return 14}return 2}function Wr(t,r){var o=t.alternate;return o===null?(o=fn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Rl(t,r,o,u,h,d){var y=2;if(u=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Oi(o.children,h,d,r);case I:y=8,h|=8;break;case A:return t=fn(12,o,r,h|2),t.elementType=A,t.lanes=d,t;case S:return t=fn(13,o,r,h),t.elementType=S,t.lanes=d,t;case Be:return t=fn(19,o,r,h),t.elementType=Be,t.lanes=d,t;case Ge:return Cl(o,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:y=10;break e;case P:y=9;break e;case O:y=11;break e;case mt:y=14;break e;case Ct:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=fn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=d,r}function Oi(t,r,o,u){return t=fn(7,t,u,r),t.lanes=o,t}function Cl(t,r,o,u){return t=fn(22,t,u,r),t.elementType=Ge,t.lanes=o,t.stateNode={isHidden:!1},t}function bc(t,r,o){return t=fn(6,t,null,r),t.lanes=o,t}function Bc(t,r,o){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function D_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function jc(t,r,o,u,h,d,y,T,R){return t=new D_(t,r,o,T,R),r===1?(r=1,d===!0&&(r|=8)):r=0,d=fn(3,null,null,r),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(d),t}function N_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function wp(t){if(!t)return Fr;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(bt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(bt(o))return Kf(t,o,r)}return r}function Tp(t,r,o,u,h,d,y,T,R){return t=jc(o,u,!0,t,h,d,y,T,R),t.context=wp(null),o=t.current,u=Ut(),h=qr(o),d=fr(u,h),d.callback=r??null,br(o,d,h),t.current.lanes=h,_i(t,h,u),$t(t,u),t}function Pl(t,r,o,u){var h=r.current,d=Ut(),y=qr(h);return o=wp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(d,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=br(h,r,y),t!==null&&(In(t,h,y,d),sl(t,h,y)),y}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function $c(t,r){Ip(t,r),(t=t.alternate)&&Ip(t,r)}function x_(){return null}var Sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}Vl.prototype.render=qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Pl(t,r,null,null)},Vl.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Di(function(){Pl(null,t,null,null)}),r[ar]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var r=yo();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Kt.length&&r!==0&&r<Kt[o].priority;o++);Kt.splice(o,0,t),o===0&&rs(t)}};function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function O_(t,r,o,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var U=kl(y);d.call(U)}}var y=Tp(r,u,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=y,t[ar]=y.current,ko(t.nodeType===8?t.parentNode:t),Di(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=kl(R);T.call(U)}}var R=jc(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=R,t[ar]=R.current,ko(t.nodeType===8?t.parentNode:t),Di(function(){Pl(r,R,o,u)}),R}function Nl(t,r,o,u,h){var d=o._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var T=h;h=function(){var R=kl(y);T.call(R)}}Pl(r,y,t,h)}else y=O_(o,r,t,h,u);return kl(y)}mo=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Oe(r.pendingLanes);o!==0&&(po(r,o|1),$t(r,qe()),(De&6)===0&&(Vs=qe()+500,Ur()))}break;case 13:Di(function(){var u=hr(t,1);if(u!==null){var h=Ut();In(u,t,1,h)}}),$c(t,1)}},ts=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=Ut();In(r,t,134217728,o)}$c(t,134217728)}},go=function(t){if(t.tag===13){var r=qr(t),o=hr(t,r);if(o!==null){var u=Ut();In(o,t,r,u)}$c(t,r)}},yo=function(){return Re},_o=function(t,r){var o=Re;try{return Re=t,r()}finally{Re=o}},Yn=function(t,r,o){switch(r){case"input":if(li(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ka(u);if(!h)throw Error(n(90));Js(u),li(u,h)}}}break;case"textarea":Ea(t,o);break;case"select":r=o.value,r!=null&&pn(t,!!o.multiple,r,!1)}},Ia=Lc,Sa=Di;var M_={usingClientEntryPoint:!1,Events:[No,ys,Ka,Sr,Ar,Lc]},Wo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L_={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Da(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||x_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{pi=xl.inject(L_),Qt=xl}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_,qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(r))throw Error(n(200));return N_(t,r,null,o)},qt.createRoot=function(t,r){if(!Hc(t))throw Error(n(299));var o=!1,u="",h=Sp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=jc(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,ko(t.nodeType===8?t.parentNode:t),new qc(r)},qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Da(r),t=t===null?null:t.stateNode,t},qt.flushSync=function(t){return Di(t)},qt.hydrate=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!0,o)},qt.hydrateRoot=function(t,r,o){if(!Hc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,d="",y=Sp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Tp(r,null,t,1,o??null,h,!1,d,y),t[ar]=r.current,ko(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Vl(r)},qt.render=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!1,o)},qt.unmountComponentAtNode=function(t){if(!Dl(t))throw Error(n(40));return t._reactRootContainer?(Di(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},qt.unstable_batchedUpdates=Lc,qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Dl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Nl(t,r,o,!1,u)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var xp;function q_(){if(xp)return Gc.exports;xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gc.exports=$_(),Gc.exports}var Op;function H_(){if(Op)return Ol;Op=1;var i=q_();return Ol.createRoot=i.createRoot,Ol.hydrateRoot=i.hydrateRoot,Ol}var W_=H_();const Q_=()=>{};var Mp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},G_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],g=i[n++],_=((a&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,g=f?i[a+1]:0,_=a+2<i.length,v=_?i[a+2]:0,w=c>>2,C=(c&3)<<4|g>>4;let N=(g&15)<<2|v>>6,B=v&63;_||(B=64,f||(N=64)),s.push(n[w],n[C],n[N],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Gm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):G_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||v==null||C==null)throw new K_;const N=c<<2|g>>4;if(s.push(N),v!==64){const B=g<<4&240|v>>2;if(s.push(B),C!==64){const Y=v<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class K_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X_=function(i){const e=Gm(i);return Km.encodeByteArray(e,!0)},Ql=function(i){return X_(i).replace(/\./g,"")},Y_=function(i){try{return Km.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=()=>J_().__FIREBASE_DEFAULTS__,ev=()=>{if(typeof process>"u"||typeof Mp>"u")return;const i=Mp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Y_(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Q_()||Z_()||ev()||tv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nv=i=>Dh()?.emulatorHosts?.[i],rv=i=>{const e=nv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Xm=()=>Dh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ql(JSON.stringify(n)),Ql(JSON.stringify(f)),""].join(".")}const Zo={};function av(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zo))Zo[e]?i.emulator.push(e):i.prod.push(e);return i}function lv(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Lp=!1;function uv(i,e){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||Zo[i]===e||Zo[i]||Lp)return;Zo[i]=e;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=av().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Lp=!0,f()},N}function w(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function C(){const N=lv(s),B=n("text"),Y=document.getElementById(B)||document.createElement("span"),X=n("learnmore"),W=document.getElementById(X)||document.createElement("a"),Ee=n("preprendIcon"),ge=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ye=N.element;g(ye),w(W,X);const Ne=v();_(ge,Ee),ye.append(ge,Y,W,Ne),document.body.appendChild(ye)}c?(Y.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hv(){const i=Dh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fv(){return!hv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dv(){try{return typeof indexedDB=="object"}catch{return!1}}function pv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mv,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ym.prototype.create)}}class Ym{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?gv(c,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new Ws(a,g,s)}}function gv(i,e){return i.replace(yv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yv=/\{\$([^}]+)}/g;function Gl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Fp(c)&&Fp(f)){if(!Gl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Fp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ev(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vv(i){return i===Mi?void 0:i}function Ev(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _v(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const Tv={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Iv=ke.INFO,Sv={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Av=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Sv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=Iv,this._logHandler=Av,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Rv=(i,e)=>e.some(n=>i instanceof n);let Up,zp;function Cv(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pv(){return zp||(zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zm=new WeakMap,oh=new WeakMap,eg=new WeakMap,Yc=new WeakMap,xh=new WeakMap;function kv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Kr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Zm.set(n,i)}).catch(()=>{}),xh.set(e,i),e}function Vv(i){if(oh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});oh.set(i,e)}let ah={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return oh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Dv(i){ah=i(ah)}function Nv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Jc(this),e,...n);return eg.set(s,e.sort?e.sort():[e]),Kr(s)}:Pv().includes(i)?function(...e){return i.apply(Jc(this),e),Kr(Zm.get(this))}:function(...e){return Kr(i.apply(Jc(this),e))}}function xv(i){return typeof i=="function"?Nv(i):(i instanceof IDBTransaction&&Vv(i),Rv(i,Cv())?new Proxy(i,ah):i)}function Kr(i){if(i instanceof IDBRequest)return kv(i);if(Yc.has(i))return Yc.get(i);const e=xv(i);return e!==i&&(Yc.set(i,e),xh.set(e,i)),e}const Jc=i=>xh.get(i);function Ov(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),g=Kr(f);return s&&f.addEventListener("upgradeneeded",_=>{s(Kr(f.result),_.oldVersion,_.newVersion,Kr(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Mv=["get","getKey","getAll","getAllKeys","count"],Lv=["put","add","delete","clear"],Zc=new Map;function bp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Lv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Mv.includes(n)))return;const c=async function(f,...g){const _=this.transaction(f,a?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),a&&_.done]))[0]};return Zc.set(e,c),c}Dv(i=>({...i,get:(e,n,s)=>bp(e,n)||i.get(e,n,s),has:(e,n)=>!!bp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Uv(i){return i.getComponent()?.type==="VERSION"}const lh="@firebase/app",Bp="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Jm("@firebase/app"),zv="@firebase/app-compat",bv="@firebase/analytics-compat",Bv="@firebase/analytics",jv="@firebase/app-check-compat",$v="@firebase/app-check",qv="@firebase/auth",Hv="@firebase/auth-compat",Wv="@firebase/database",Qv="@firebase/data-connect",Gv="@firebase/database-compat",Kv="@firebase/functions",Xv="@firebase/functions-compat",Yv="@firebase/installations",Jv="@firebase/installations-compat",Zv="@firebase/messaging",eE="@firebase/messaging-compat",tE="@firebase/performance",nE="@firebase/performance-compat",rE="@firebase/remote-config",iE="@firebase/remote-config-compat",sE="@firebase/storage",oE="@firebase/storage-compat",aE="@firebase/firestore",lE="@firebase/ai",uE="@firebase/firestore-compat",cE="firebase",hE="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="[DEFAULT]",fE={[lh]:"fire-core",[zv]:"fire-core-compat",[Bv]:"fire-analytics",[bv]:"fire-analytics-compat",[$v]:"fire-app-check",[jv]:"fire-app-check-compat",[qv]:"fire-auth",[Hv]:"fire-auth-compat",[Wv]:"fire-rtdb",[Qv]:"fire-data-connect",[Gv]:"fire-rtdb-compat",[Kv]:"fire-fn",[Xv]:"fire-fn-compat",[Yv]:"fire-iid",[Jv]:"fire-iid-compat",[Zv]:"fire-fcm",[eE]:"fire-fcm-compat",[tE]:"fire-perf",[nE]:"fire-perf-compat",[rE]:"fire-rc",[iE]:"fire-rc-compat",[sE]:"fire-gcs",[oE]:"fire-gcs-compat",[aE]:"fire-fst",[uE]:"fire-fst-compat",[lE]:"fire-vertex","fire-js":"fire-js",[cE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,dE=new Map,ch=new Map;function jp(i,e){try{i.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xl(i){const e=i.name;if(ch.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,i);for(const n of Kl.values())jp(n,i);for(const n of dE.values())jp(n,i);return!0}function pE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Ym("app","Firebase",gE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=hE;function tg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:uh,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=Xm()),!n)throw Xr.create("no-options");const c=Kl.get(a);if(c){if(Gl(n,c.options)&&Gl(s,c.config))return c;throw Xr.create("duplicate-app",{appName:a})}const f=new wv(a);for(const _ of ch.values())f.addComponent(_);const g=new yE(n,s,f);return Kl.set(a,g),g}function vE(i=uh){const e=Kl.get(i);if(!e&&i===uh&&Xm())return tg();if(!e)throw Xr.create("no-app",{appName:i});return e}function Ls(i,e,n){let s=fE[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}Xl(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebase-heartbeat-database",wE=1,sa="firebase-heartbeat-store";let eh=null;function ng(){return eh||(eh=Ov(EE,wE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),eh}async function TE(i){try{const n=(await ng()).transaction(sa),s=await n.objectStore(sa).get(rg(i));return await n.done,s}catch(e){if(e instanceof Ws)mr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function $p(i,e){try{const s=(await ng()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,rg(i)),await s.done}catch(n){if(n instanceof Ws)mr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function rg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=1024,SE=30;class AE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>SE){const a=PE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qp(),{heartbeatsToSend:n,unsentEntries:s}=RE(this._heartbeatsCache.heartbeats),a=Ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mr.warn(e),""}}}function qp(){return new Date().toISOString().substring(0,10)}function RE(i,e=IE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Hp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dv()?pv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TE(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hp(i){return Ql(JSON.stringify({version:2,heartbeats:i})).length}function PE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i){Xl(new ia("platform-logger",e=>new Fv(e),"PRIVATE")),Xl(new ia("heartbeat",e=>new AE(e),"PRIVATE")),Ls(lh,Bp,i),Ls(lh,Bp,"esm2020"),Ls("fire-js","")}kE("");var VE="firebase",DE="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(VE,DE,"app");var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,ig;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function A(){}A.prototype=I.prototype,k.F=I.prototype,k.prototype=new A,k.prototype.constructor=k,k.D=function(D,P,O){for(var S=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)S[Be-2]=arguments[Be];return I.prototype[P].apply(D,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,A){A||(A=0);const D=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)D[P]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(P=0;P<16;++P)D[P]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=k.g[0],A=k.g[1],P=k.g[2];let O=k.g[3],S;S=I+(O^A&(P^O))+D[0]+3614090360&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(P^I&(A^P))+D[1]+3905402710&4294967295,O=I+(S<<12&4294967295|S>>>20),S=P+(A^O&(I^A))+D[2]+606105819&4294967295,P=O+(S<<17&4294967295|S>>>15),S=A+(I^P&(O^I))+D[3]+3250441966&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(O^A&(P^O))+D[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(P^I&(A^P))+D[5]+1200080426&4294967295,O=I+(S<<12&4294967295|S>>>20),S=P+(A^O&(I^A))+D[6]+2821735955&4294967295,P=O+(S<<17&4294967295|S>>>15),S=A+(I^P&(O^I))+D[7]+4249261313&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(O^A&(P^O))+D[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(P^I&(A^P))+D[9]+2336552879&4294967295,O=I+(S<<12&4294967295|S>>>20),S=P+(A^O&(I^A))+D[10]+4294925233&4294967295,P=O+(S<<17&4294967295|S>>>15),S=A+(I^P&(O^I))+D[11]+2304563134&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(O^A&(P^O))+D[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(P^I&(A^P))+D[13]+4254626195&4294967295,O=I+(S<<12&4294967295|S>>>20),S=P+(A^O&(I^A))+D[14]+2792965006&4294967295,P=O+(S<<17&4294967295|S>>>15),S=A+(I^P&(O^I))+D[15]+1236535329&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(P^O&(A^P))+D[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^P&(I^A))+D[6]+3225465664&4294967295,O=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(O^I))+D[11]+643717713&4294967295,P=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(P^O))+D[0]+3921069994&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^O&(A^P))+D[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^P&(I^A))+D[10]+38016083&4294967295,O=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(O^I))+D[15]+3634488961&4294967295,P=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(P^O))+D[4]+3889429448&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^O&(A^P))+D[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^P&(I^A))+D[14]+3275163606&4294967295,O=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(O^I))+D[3]+4107603335&4294967295,P=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(P^O))+D[8]+1163531501&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^O&(A^P))+D[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^P&(I^A))+D[2]+4243563512&4294967295,O=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(O^I))+D[7]+1735328473&4294967295,P=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(P^O))+D[12]+2368359562&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(A^P^O)+D[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^P)+D[8]+2272392833&4294967295,O=I+(S<<11&4294967295|S>>>21),S=P+(O^I^A)+D[11]+1839030562&4294967295,P=O+(S<<16&4294967295|S>>>16),S=A+(P^O^I)+D[14]+4259657740&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^O)+D[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^P)+D[4]+1272893353&4294967295,O=I+(S<<11&4294967295|S>>>21),S=P+(O^I^A)+D[7]+4139469664&4294967295,P=O+(S<<16&4294967295|S>>>16),S=A+(P^O^I)+D[10]+3200236656&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^O)+D[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^P)+D[0]+3936430074&4294967295,O=I+(S<<11&4294967295|S>>>21),S=P+(O^I^A)+D[3]+3572445317&4294967295,P=O+(S<<16&4294967295|S>>>16),S=A+(P^O^I)+D[6]+76029189&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^O)+D[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^P)+D[12]+3873151461&4294967295,O=I+(S<<11&4294967295|S>>>21),S=P+(O^I^A)+D[15]+530742520&4294967295,P=O+(S<<16&4294967295|S>>>16),S=A+(P^O^I)+D[2]+3299628645&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(P^(A|~O))+D[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~P))+D[7]+1126891415&4294967295,O=I+(S<<10&4294967295|S>>>22),S=P+(I^(O|~A))+D[14]+2878612391&4294967295,P=O+(S<<15&4294967295|S>>>17),S=A+(O^(P|~I))+D[5]+4237533241&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~O))+D[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~P))+D[3]+2399980690&4294967295,O=I+(S<<10&4294967295|S>>>22),S=P+(I^(O|~A))+D[10]+4293915773&4294967295,P=O+(S<<15&4294967295|S>>>17),S=A+(O^(P|~I))+D[1]+2240044497&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~O))+D[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~P))+D[15]+4264355552&4294967295,O=I+(S<<10&4294967295|S>>>22),S=P+(I^(O|~A))+D[6]+2734768916&4294967295,P=O+(S<<15&4294967295|S>>>17),S=A+(O^(P|~I))+D[13]+1309151649&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~O))+D[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~P))+D[11]+3174756917&4294967295,O=I+(S<<10&4294967295|S>>>22),S=P+(I^(O|~A))+D[2]+718787259&4294967295,P=O+(S<<15&4294967295|S>>>17),S=A+(O^(P|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(P+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.v=function(k,I){I===void 0&&(I=k.length);const A=I-this.blockSize,D=this.C;let P=this.h,O=0;for(;O<I;){if(P==0)for(;O<=A;)a(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<I;)if(D[P++]=k.charCodeAt(O++),P==this.blockSize){a(this,D),P=0;break}}else for(;O<I;)if(D[P++]=k[O++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=I},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)k[I++]=this.g[A]>>>D&255;return k};function c(k,I){var A=g;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=I(k)}function f(k,I){this.h=I;const A=[];let D=!0;for(let P=k.length-1;P>=0;P--){const O=k[P]|0;D&&O==I||(A[P]=O,D=!1)}this.g=A}var g={};function _(k){return-128<=k&&k<128?c(k,function(I){return new f([I|0],I<0?-1:0)}):new f([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return C;if(k<0)return W(v(-k));const I=[];let A=1;for(let D=0;k>=A;D++)I[D]=k/A|0,A*=4294967296;return new f(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return W(w(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(I,8));let D=C;for(let O=0;O<k.length;O+=8){var P=Math.min(8,k.length-O);const S=parseInt(k.substring(O,O+P),I);P<8?(P=v(Math.pow(I,P)),D=D.j(P).add(v(S))):(D=D.j(A),D=D.add(v(S)))}return D}var C=_(0),N=_(1),B=_(16777216);i=f.prototype,i.m=function(){if(X(this))return-W(this).m();let k=0,I=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);k+=(D>=0?D:4294967296+D)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(k);const I=v(Math.pow(k,6));var A=this;let D="";for(;;){const P=Ne(A,I).g;A=Ee(A,P.j(I));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(k);if(A=P,Y(A))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function X(k){return k.h==-1}i.l=function(k){return k=Ee(this,k),X(k)?-1:Y(k)?0:1};function W(k){const I=k.g.length,A=[];for(let D=0;D<I;D++)A[D]=~k.g[D];return new f(A,~k.h).add(N)}i.abs=function(){return X(this)?W(this):this},i.add=function(k){const I=Math.max(this.g.length,k.g.length),A=[];let D=0;for(let P=0;P<=I;P++){let O=D+(this.i(P)&65535)+(k.i(P)&65535),S=(O>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);D=S>>>16,O&=65535,S&=65535,A[P]=S<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Ee(k,I){return k.add(W(I))}i.j=function(k){if(Y(this)||Y(k))return C;if(X(this))return X(k)?W(this).j(W(k)):W(W(this).j(k));if(X(k))return W(this.j(W(k)));if(this.l(B)<0&&k.l(B)<0)return v(this.m()*k.m());const I=this.g.length+k.g.length,A=[];for(var D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let P=0;P<k.g.length;P++){const O=this.i(D)>>>16,S=this.i(D)&65535,Be=k.i(P)>>>16,mt=k.i(P)&65535;A[2*D+2*P]+=S*mt,ge(A,2*D+2*P),A[2*D+2*P+1]+=O*mt,ge(A,2*D+2*P+1),A[2*D+2*P+1]+=S*Be,ge(A,2*D+2*P+1),A[2*D+2*P+2]+=O*Be,ge(A,2*D+2*P+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ge(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function ye(k,I){this.g=k,this.h=I}function Ne(k,I){if(Y(I))throw Error("division by zero");if(Y(k))return new ye(C,C);if(X(k))return I=Ne(W(k),I),new ye(W(I.g),W(I.h));if(X(I))return I=Ne(k,W(I)),new ye(W(I.g),I.h);if(k.g.length>30){if(X(k)||X(I))throw Error("slowDivide_ only works with positive integers.");for(var A=N,D=I;D.l(k)<=0;)A=be(A),D=be(D);var P=Ce(A,1),O=Ce(D,1);for(D=Ce(D,2),A=Ce(A,2);!Y(D);){var S=O.add(D);S.l(k)<=0&&(P=P.add(A),O=S),D=Ce(D,1),A=Ce(A,1)}return I=Ee(k,P.j(I)),new ye(P,I)}for(P=C;k.l(I)>=0;){for(A=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=v(A),S=O.j(I);X(S)||S.l(k)>0;)A-=D,O=v(A),S=O.j(I);Y(O)&&(O=N),P=P.add(O),k=Ee(k,S)}return new ye(P,k)}i.B=function(k){return Ne(this,k).h},i.and=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)&k.i(D);return new f(A,this.h&k.h)},i.or=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)|k.i(D);return new f(A,this.h|k.h)},i.xor=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)^k.i(D);return new f(A,this.h^k.h)};function be(k){const I=k.g.length+1,A=[];for(let D=0;D<I;D++)A[D]=k.i(D)<<1|k.i(D-1)>>>31;return new f(A,k.h)}function Ce(k,I){const A=I>>5;I%=32;const D=k.g.length-A,P=[];for(let O=0;O<D;O++)P[O]=I>0?k.i(O+A)>>>I|k.i(O+A+1)<<32-I:k.i(O+A);return new f(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ig=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,Yr=f}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sg,Ko,og,Bl,hh,ag,lg,ug;(function(){var i,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var m=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in m))break e;m=m[L]}l=l[l.length-1],E=m[l],p=p(E),p!=E&&p!=null&&e(m,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var m=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&m.push([E,p[E]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function _(l,p,m){return l.call.apply(l.bind,arguments)}function v(l,p,m){return v=_,v.apply(null,arguments)}function w(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function C(l,p){function m(){}m.prototype=p.prototype,l.Z=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(E,L,z){for(var K=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)K[pe-2]=arguments[pe];return p.prototype[L].apply(E,K)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function B(l){const p=l.length;if(p>0){const m=Array(p);for(let E=0;E<p;E++)m[E]=l[E];return m}return[]}function Y(l,p){for(let E=1;E<arguments.length;E++){const L=arguments[E];var m=typeof L;if(m=m!="object"?m:L?Array.isArray(L)?"array":m:"null",m=="array"||m=="object"&&typeof L.length=="number"){m=l.length||0;const z=L.length||0;l.length=m+z;for(let K=0;K<z;K++)l[m+K]=L[K]}else l.push(L)}}class X{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(l){f.setTimeout(()=>{throw l},0)}function Ee(){var l=k;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ge{constructor(){this.h=this.g=null}add(p,m){const E=ye.get();E.set(p,m),this.h?this.h.next=E:this.g=E,this.h=E}}var ye=new X(()=>new Ne,l=>l.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Ce=!1,k=new ge,I=()=>{const l=Promise.resolve(void 0);be=()=>{l.then(A)}};function A(){for(var l;l=Ee();){try{l.h.call(l.g)}catch(m){W(m)}var p=ye;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Ce=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};f.addEventListener("test",m,p),f.removeEventListener("test",m,p)}catch{}return l})();function S(l){return/^[\s\xa0]*$/.test(l)}function Be(l,p){P.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}C(Be,P),Be.prototype.init=function(l,p){const m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(m=="mouseover"?p=l.fromElement:m=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),Ct=0;function Ge(l,p,m,E,L){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!E,this.ha=L,this.key=++Ct,this.da=this.fa=!1}function J(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function le(l,p,m){for(const E in l)p.call(m,l[E],E,l)}function ne(l,p){for(const m in l)p.call(void 0,l[m],m,l)}function x(l){const p={};for(const m in l)p[m]=l[m];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(l,p){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)l[m]=E[m];for(let z=0;z<$.length;z++)m=$[z],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function ve(l){this.src=l,this.g={},this.h=0}ve.prototype.add=function(l,p,m,E,L){const z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);const K=Ie(l,p,E,L);return K>-1?(p=l[K],m||(p.fa=!1)):(p=new Ge(p,this.src,z,!!E,L),p.fa=m,l.push(p)),p};function Te(l,p){const m=p.type;if(m in l.g){var E=l.g[m],L=Array.prototype.indexOf.call(E,p,void 0),z;(z=L>=0)&&Array.prototype.splice.call(E,L,1),z&&(J(p),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ie(l,p,m,E){for(let L=0;L<l.length;++L){const z=l[L];if(!z.da&&z.listener==p&&z.capture==!!m&&z.ha==E)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ve={};function Ue(l,p,m,E,L){if(Array.isArray(p)){for(let z=0;z<p.length;z++)Ue(l,p[z],m,E,L);return null}return m=Zs(m),l&&l[mt]?l.J(p,m,g(E)?!!E.capture:!1,L):Lt(l,p,m,!1,E,L)}function Lt(l,p,m,E,L,z){if(!p)throw Error("Invalid event type");const K=g(L)?!!L.capture:!!L;let pe=Wi(l);if(pe||(l[Me]=pe=new ve(l)),m=pe.add(p,m,E,K,z),m.proxy)return m;if(E=qi(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)O||(L=K),L===void 0&&(L=!1),l.addEventListener(p.toString(),E,L);else if(l.attachEvent)l.attachEvent(Hi(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function qi(){function l(m){return p.call(l.src,l.listener,m)}const p=va;return l}function Js(l,p,m,E,L){if(Array.isArray(p))for(var z=0;z<p.length;z++)Js(l,p[z],m,E,L);else E=g(E)?!!E.capture:!!E,m=Zs(m),l&&l[mt]?(l=l.i,z=String(p).toString(),z in l.g&&(p=l.g[z],m=Ie(p,m,E,L),m>-1&&(J(p[m]),Array.prototype.splice.call(p,m,1),p.length==0&&(delete l.g[z],l.h--)))):l&&(l=Wi(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ie(p,m,E,L)),(m=l>-1?p[l]:null)&&_r(m))}function _r(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[mt])Te(p.i,l);else{var m=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(m,E,l.capture):p.detachEvent?p.detachEvent(Hi(m),E):p.addListener&&p.removeListener&&p.removeListener(E),(m=Wi(p))?(Te(m,l),m.h==0&&(m.src=null,p[Me]=null)):J(l)}}}function Hi(l){return l in Ve?Ve[l]:Ve[l]="on"+l}function va(l,p){if(l.da)l=!0;else{p=new Be(p,this);const m=l.listener,E=l.ha||l.src;l.fa&&_r(l),l=m.call(E,p)}return l}function Wi(l){return l=l[Me],l instanceof ve?l:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zs(l){return typeof l=="function"?l:(l[li]||(l[li]=function(p){return l.handleEvent(p)}),l[li])}function st(){D.call(this),this.i=new ve(this),this.M=this,this.G=null}C(st,D),st.prototype[mt]=!0,st.prototype.removeEventListener=function(l,p,m,E){Js(this,l,p,m,E)};function tt(l,p){var m,E=l.G;if(E)for(m=[];E;E=E.G)m.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new P(p,l);else if(p instanceof P)p.target=p.target||l;else{var L=p;p=new P(E,l),_e(p,L)}L=!0;let z,K;if(m)for(K=m.length-1;K>=0;K--)z=p.g=m[K],L=pn(z,E,!0,p)&&L;if(z=p.g=l,L=pn(z,E,!0,p)&&L,L=pn(z,E,!1,p)&&L,m)for(K=0;K<m.length;K++)z=p.g=m[K],L=pn(z,E,!1,p)&&L}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const m=l.g[p];for(let E=0;E<m.length;E++)J(m[E]);delete l.g[p],l.h--}}this.G=null},st.prototype.J=function(l,p,m,E){return this.i.add(String(l),p,!1,m,E)},st.prototype.K=function(l,p,m,E){return this.i.add(String(l),p,!0,m,E)};function pn(l,p,m,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let z=0;z<p.length;++z){const K=p[z];if(K&&!K.da&&K.capture==m){const pe=K.listener,nt=K.ha||K.src;K.fa&&Te(l.i,K),L=pe.call(nt,E)!==!1&&L}}return L&&!E.defaultPrevented}function eo(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(l,p||0)}function to(l){l.g=eo(()=>{l.g=null,l.i&&(l.i=!1,to(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Ea extends D{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(l){D.call(this),this.h=l,this.g={}}C(vr,D);var no=[];function Qi(l){le(l.g,function(p,m){this.g.hasOwnProperty(m)&&_r(p)},l),l.g={}}vr.prototype.N=function(){vr.Z.N.call(this),Qi(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,wa=f.JSON.parse,ui=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function wr(){}function Ta(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gi(){P.call(this,"d")}C(Gi,P);function ro(){P.call(this,"c")}C(ro,P);var mn={},Ki=null;function Ir(){return Ki=Ki||new st}mn.Ia="serverreachability";function Xi(l){P.call(this,mn.Ia,l)}C(Xi,P);function Yn(l){const p=Ir();tt(p,new Xi(p))}mn.STAT_EVENT="statevent";function Jn(l,p){P.call(this,mn.STAT_EVENT,l),this.stat=p}C(Jn,P);function Ze(l){const p=Ir();tt(p,new Jn(p,l))}mn.Ja="timingevent";function io(l,p){P.call(this,mn.Ja,l),this.size=p}C(io,P);function Sr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function Ia(l,p,m,E,L,z){l.info(function(){if(l.g)if(z){var K="",pe=z.split("&");for(let Fe=0;Fe<pe.length;Fe++){var nt=pe[Fe].split("=");if(nt.length>1){const ot=nt[0];nt=nt[1];const Jt=ot.split("_");K=Jt.length>=2&&Jt[1]=="type"?K+(ot+"="+nt+"&"):K+(ot+"=redacted&")}}}else K=null;else K=z;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+m+`
`+K})}function Sa(l,p,m,E,L,z,K){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+m+`
`+z+" "+K})}function Rn(l,p,m,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+ci(l,m)+(E?" "+E:"")})}function Aa(l,p){l.info(function(){return"TIMEOUT: "+p})}Ar.prototype.info=function(){};function ci(l,p){if(!l.g)return p;if(!p)return null;try{const z=JSON.parse(p);if(z){for(l=0;l<z.length;l++)if(Array.isArray(z[l])){var m=z[l];if(!(m.length<2)){var E=m[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let K=1;K<E.length;K++)E[K]=""}}}}return Er(z)}catch{return p}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ra;function Zn(){}C(Zn,wr),Zn.prototype.g=function(){return new XMLHttpRequest},Ra=new Zn;function Cn(l){return encodeURIComponent(String(l))}function Yi(l){var p=1;l=l.split(":");const m=[];for(;p>0&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function sn(l,p,m,E){this.j=l,this.i=p,this.l=m,this.S=E||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ca}function Ca(){this.i=null,this.g="",this.h=!1}var Pa={},so={};function gn(l,p,m){l.M=1,l.A=tr(on(p)),l.u=m,l.R=!0,oo(l,null)}function oo(l,p){l.F=Date.now(),hi(l),l.B=on(l.A);var m=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),yo(m.i,"t",E),l.C=0,m=l.j.L,l.h=new Ca,l.g=Ua(l.j,m?p:null,!l.u),l.P>0&&(l.O=new Ea(v(l.Y,l,l.g),l.P)),p=l.V,m=l.g,E=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(no[0]=L.toString()),L=no);for(let z=0;z<L.length;z++){const K=Ue(m,L[z],E||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=l.J?x(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Yn(),Ia(l.i,l.v,l.B,l.l,l.S,l.u)}sn.prototype.ba=function(l){l=l.target;const p=this.O;p&&On(l)==3?p.j():this.Y(l)},sn.prototype.Y=function(l){try{if(l==this.g)e:{const pe=On(this.g),nt=this.g.ya(),Fe=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||La(this.g)))){this.K||pe!=4||nt==7||(nt==8||Fe<=0?Yn(3):Yn(2)),Ji(this);var p=this.g.ca();this.X=p;var m=ka(this);if(this.o=p==200,Sa(this.i,this.v,this.B,this.l,this.S,pe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var z=E;break t}}z=null}if(l=z)Rn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,l);else{this.o=!1,this.m=3,Ze(12),er(this),fi(this);break e}}if(this.R){l=!0;let ot;for(;!this.K&&this.C<m.length;)if(ot=Da(this,m),ot==so){pe==4&&(this.m=4,Ze(14),l=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Pa){this.m=4,Ze(15),Rn(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else Rn(this.i,this.l,ot,null),qe(this,ot);if(Va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||m.length!=0||this.h.h||(this.m=1,Ze(16),l=!1),this.o=this.o&&l,!l)Rn(this.i,this.l,m,"[Invalid Chunked Response]"),er(this),fi(this);else if(m.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),wi(K),K.P=!0,Ze(11))}}else Rn(this.i,this.l,m,null),qe(this,m);pe==4&&er(this),this.o&&!this.K&&(pe==4?ls(this.j,this):(this.o=!1,hi(this)))}else vo(this.g),p==400&&m.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),er(this),fi(this)}}}catch{}finally{}};function ka(l){if(!Va(l))return l.g.la();const p=La(l.g);if(p==="")return"";let m="";const E=p.length,L=On(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return er(l),fi(l),"";l.h.i=new f.TextDecoder}for(let z=0;z<E;z++)l.h.h=!0,m+=l.h.i.decode(p[z],{stream:!(L&&z==E-1)});return p.length=0,l.h.g+=m,l.C=0,l.h.g}function Va(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Da(l,p){var m=l.C,E=p.indexOf(`
`,m);return E==-1?so:(m=Number(p.substring(m,E)),isNaN(m)?Pa:(E+=1,E+m>p.length?so:(p=p.slice(E,E+m),l.C=E+m,p)))}sn.prototype.cancel=function(){this.K=!0,er(this)};function hi(l){l.T=Date.now()+l.H,ao(l,l.H)}function ao(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Sr(v(l.aa,l),p)}function Ji(l){l.D&&(f.clearTimeout(l.D),l.D=null)}sn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Aa(this.i,this.B),this.M!=2&&(Yn(),Ze(17)),er(this),this.m=2,fi(this)):ao(this,this.T-l)};function fi(l){l.j.I==0||l.K||ls(l.j,l)}function er(l){Ji(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,Qi(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function qe(l,p){try{var m=l.j;if(m.I!=0&&(m.g==l||uo(m.h,l))){if(!l.L&&uo(m.h,l)&&m.I==3){try{var E=m.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)as(m),Xt(m);else break e;Fn(m),Ze(18)}}else m.xa=L[1],0<m.xa-m.K&&L[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Sr(v(m.Va,m),6e3));di(m.h)<=1&&m.ta&&(m.ta=void 0)}else Yt(m,11)}else if((l.L||m.g==l)&&as(m),!S(p))for(L=m.Ba.g.parse(p),p=0;p<L.length;p++){let Fe=L[p];const ot=Fe[0];if(!(ot<=m.K))if(m.K=ot,Fe=Fe[1],m.I==2)if(Fe[0]=="c"){m.M=Fe[1],m.ba=Fe[2];const Jt=Fe[3];Jt!=null&&(m.ka=Jt,m.j.info("VER="+m.ka));const or=Fe[4];or!=null&&(m.za=or,m.j.info("SVER="+m.za));const Un=Fe[5];Un!=null&&typeof Un=="number"&&Un>0&&(E=1.5*Un,m.O=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const zn=l.g;if(zn){const hs=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var z=E.h;z.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(es(z,z.h),z.h=null))}if(E.G){const To=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(E.wa=To,Oe(E.J,E.G,To))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),E=m;var K=l;if(E.na=wo(E,E.L?E.ba:null,E.W),K.L){pi(E.h,K);var pe=K,nt=E.O;nt&&(pe.H=nt),pe.D&&(Ji(pe),hi(pe)),E.g=K}else Pt(E);m.i.length>0&&sr(m)}else Fe[0]!="stop"&&Fe[0]!="close"||Yt(m,7);else m.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Yt(m,7):ss(m):Fe[0]!="noop"&&m.l&&m.l.qa(Fe),m.A=0)}}Yn(4)}catch{}}var Iu=class{constructor(l,p){this.g=l,this.map=p}};function Zi(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function di(l){return l.h?1:l.g?l.g.size:0}function uo(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function es(l,p){l.g?l.g.add(p):l.h=p}function pi(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Zi.prototype.cancel=function(){if(this.i=Qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Qt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const m of l.g.values())p=p.concat(m.G);return p}return B(l.i)}var Na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gt(l,p){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const E=l[m].indexOf("=");let L,z=null;E>=0?(L=l[m].substring(0,E),z=l[m].substring(E+1)):L=l[m],p(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Pn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Pn?(this.l=l.l,mi(this,l.j),this.o=l.o,this.g=l.g,kn(this,l.u),this.h=l.h,Pr(this,_o(l.i)),this.m=l.m):l&&(p=String(l).match(Na))?(this.l=!1,mi(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),kn(this,p[4]),this.h=gi(p[5]||"",!0),Pr(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new Re(null,this.l))}Pn.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(yi(p,ho,!0),":");var m=this.g;return(m||p=="file")&&(l.push("//"),(p=this.o)&&l.push(yi(p,ho,!0),"@"),l.push(Cn(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(yi(m,m.charAt(0)=="/"?_i:fo,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",yi(m,po)),l.join("")},Pn.prototype.resolve=function(l){const p=on(this);let m=!!l.j;m?mi(p,l.j):m=!!l.o,m?p.o=l.o:m=!!l.g,m?p.g=l.g:m=l.u!=null;var E=l.h;if(m)kn(p,l.u);else if(m=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=p.h.lastIndexOf("/");L!=-1&&(E=p.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let K=0;K<L.length;){const pe=L[K++];pe=="."?E&&K==L.length&&z.push(""):pe==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),E&&K==L.length&&z.push("")):(z.push(pe),E=!0)}E=z.join("/")}else E=L}return m?p.h=E:m=l.i.toString()!=="",m?Pr(p,_o(l.i)):m=!!l.m,m&&(p.m=l.m),p};function on(l){return new Pn(l)}function mi(l,p,m){l.j=m?gi(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function kn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Pr(l,p,m){p instanceof Re?(l.i=p,ns(l.i,l.l)):(m||(p=yi(p,Su)),l.i=new Re(p,l.l))}function Oe(l,p,m){l.i.set(p,m)}function tr(l){return Oe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function gi(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yi(l,p,m){return typeof l=="string"?(l=encodeURI(l).replace(p,co),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function co(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ho=/[#\/\?@]/g,fo=/[#\?:]/g,_i=/[#\?]/g,Su=/[#\?@]/g,po=/#/g;function Re(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Vn(l){l.g||(l.g=new Map,l.h=0,l.i&&Gt(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}i=Re.prototype,i.add=function(l,p){Vn(this),this.i=null,l=Dn(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this};function mo(l,p){Vn(l),p=Dn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ts(l,p){return Vn(l),p=Dn(l,p),l.g.has(p)}i.forEach=function(l,p){Vn(this),this.g.forEach(function(m,E){m.forEach(function(L){l.call(p,L,E,this)},this)},this)};function go(l,p){Vn(l);let m=[];if(typeof p=="string")ts(l,p)&&(m=m.concat(l.g.get(Dn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)m=m.concat(l[p]);return m}i.set=function(l,p){return Vn(this),this.i=null,l=Dn(this,l),ts(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=go(this,l),l.length>0?String(l[0]):p):p};function yo(l,p,m){mo(l,p),m.length>0&&(l.i=null,l.g.set(Dn(l,p),B(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var m=p[E];const L=Cn(m);m=go(this,m);for(let z=0;z<m.length;z++){let K=L;m[z]!==""&&(K+="="+Cn(m[z])),l.push(K)}}return this.i=l.join("&")};function _o(l){const p=new Re;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Dn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ns(l,p){p&&!l.j&&(Vn(l),l.i=null,l.g.forEach(function(m,E){const L=E.toLowerCase();E!=L&&(mo(this,E),yo(this,L,m))},l)),l.j=p}function Nn(l,p){const m=new Ar;if(f.Image){const E=new Image;E.onload=w(Et,m,"TestLoadImage: loaded",!0,p,E),E.onerror=w(Et,m,"TestLoadImage: error",!1,p,E),E.onabort=w(Et,m,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(Et,m,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function xn(l,p){const m=new Ar,E=new AbortController,L=setTimeout(()=>{E.abort(),Et(m,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(L),z.ok?Et(m,"TestPingServer: ok",!0,p):Et(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Et(m,"TestPingServer: error",!1,p)})}function Et(l,p,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function vi(){this.g=new ui}function nr(l){this.i=l.Sb||null,this.h=l.ab||!1}C(nr,wr),nr.prototype.g=function(){return new Kt(this.i,this.h)};function Kt(l,p){st.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Kt,st),i=Kt.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,yn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,yn(this)),this.g&&(this.readyState=3,yn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?kr(this):yn(this),this.readyState==3&&xa(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,kr(this))},i.Na=function(l){this.g&&(this.response=l,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,yn(l)}i.setRequestHeader=function(l,p){this.A.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=p.next();return l.join(`\r
`)};function yn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Kt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Oa(l){let p="";return le(l,function(m,E){p+=E,p+=":",p+=m,p+=`\r
`}),p}function rs(l,p,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Oa(m),typeof l=="string"?m!=null&&Cn(m):Oe(l,p,m))}function ze(l){st.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ze,st);var Ma=/^https?$/i,Au=["POST","PUT"];i=ze.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,p,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ra.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(z){Vr(this,z);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())m.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),L=f.FormData&&l instanceof f.FormData,!(Array.prototype.indexOf.call(Au,p,void 0)>=0)||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,K]of m)this.g.setRequestHeader(z,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(z){Vr(this,z)}};function Vr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Dr(l),ir(l)}function Dr(l){l.A||(l.A=!0,tt(l,"complete"),tt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,tt(this,"complete"),tt(this,"abort"),ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?rr(this):this.Xa())},i.Xa=function(){rr(this)};function rr(l){if(l.h&&typeof c<"u"){if(l.v&&On(l)==4)setTimeout(l.Ca.bind(l),0);else if(tt(l,"readystatechange"),On(l)==4){l.h=!1;try{const z=l.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var E;if(E=z===0){let K=String(l.D).match(Na)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),E=!Ma.test(K?K.toLowerCase():"")}m=E}if(m)tt(l,"complete"),tt(l,"success");else{l.o=6;try{var L=On(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",Dr(l)}}finally{ir(l)}}}}function ir(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,p||tt(l,"ready");try{m.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function On(l){return l.g?l.g.readyState:0}i.ca=function(){try{return On(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),wa(p)}};function La(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(l){const p={};l=(l.g&&On(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(S(l[E]))continue;var m=Yi(l[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=p[L]||[];p[L]=z,z.push(m)}ne(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function is(l){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mn("baseRetryDelayMs",5e3,l),this.Za=Mn("retryDelaySeedMs",1e4,l),this.Ta=Mn("forwardChannelMaxRetries",2,l),this.va=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Zi(l&&l.concurrentRequestLimit),this.Ba=new vi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=is.prototype,i.ka=8,i.I=1,i.connect=function(l,p,m,E){Ze(0),this.W=l,this.H=p||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.J=wo(this,null,this.W),sr(this)};function ss(l){if(os(l),l.I==3){var p=l.V++,m=on(l.J);if(Oe(m,"SID",l.M),Oe(m,"RID",p),Oe(m,"TYPE","terminate"),Ln(l,m),p=new sn(l,l.j,p),p.M=2,p.A=tr(on(m)),m=!1,f.navigator&&f.navigator.sendBeacon)try{m=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!m&&f.Image&&(new Image().src=p.A,m=!0),m||(p.g=Ua(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}Ti(l)}function Xt(l){l.g&&(wi(l),l.g.cancel(),l.g=null)}function os(l){Xt(l),l.v&&(f.clearTimeout(l.v),l.v=null),as(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&f.clearTimeout(l.m),l.m=null)}function sr(l){if(!lo(l.h)&&!l.m){l.m=!0;var p=l.Ea;be||I(),Ce||(be(),Ce=!0),k.add(p,l),l.D=0}}function Fa(l,p){return di(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Sr(v(l.Ea,l,p),us(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new sn(this,this.j,l);let z=this.o;if(this.U&&(z?(z=x(z),_e(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Eo(this,L,p),m=on(this.J),Oe(m,"RID",l),Oe(m,"CVER",22),this.G&&Oe(m,"X-HTTP-Session-Id",this.G),Ln(this,m),z&&(this.R?p="headers="+Cn(Oa(z))+"&"+p:this.u&&rs(m,this.u,z)),es(this.h,L),this.Ra&&Oe(m,"TYPE","init"),this.S?(Oe(m,"$req",p),Oe(m,"SID","null"),L.U=!0,gn(L,m,null)):gn(L,m,p),this.I=2}}else this.I==3&&(l?Ei(this,l):this.i.length==0||lo(this.h)||Ei(this))};function Ei(l,p){var m;p?m=p.l:m=l.V++;const E=on(l.J);Oe(E,"SID",l.M),Oe(E,"RID",m),Oe(E,"AID",l.K),Ln(l,E),l.u&&l.o&&rs(E,l.u,l.o),m=new sn(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Eo(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),es(l.h,m),gn(m,E,p)}function Ln(l,p){l.H&&le(l.H,function(m,E){Oe(p,E,m)}),l.l&&le({},function(m,E){Oe(p,E,m)})}function Eo(l,p,m){m=Math.min(l.i.length,m);const E=l.l?v(l.l.Ka,l.l,l):null;e:{var L=l.i;let pe=-1;for(;;){const nt=["count="+m];pe==-1?m>0?(pe=L[0].g,nt.push("ofs="+pe)):pe=0:nt.push("ofs="+pe);let Fe=!0;for(let ot=0;ot<m;ot++){var z=L[ot].g;const Jt=L[ot].map;if(z-=pe,z<0)pe=Math.max(0,L[ot].g-100),Fe=!1;else try{z="req"+z+"_"||"";try{var K=Jt instanceof Map?Jt:Object.entries(Jt);for(const[or,Un]of K){let zn=Un;g(Un)&&(zn=Er(Un)),nt.push(z+or+"="+encodeURIComponent(zn))}}catch(or){throw nt.push(z+"type="+encodeURIComponent("_badmap")),or}}catch{E&&E(Jt)}}if(Fe){K=nt.join("&");break e}}K=void 0}return l=l.i.splice(0,m),p.G=l,K}function Pt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;be||I(),Ce||(be(),Ce=!0),k.add(p,l),l.A=0}}function Fn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Sr(v(l.Da,l),us(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,Nr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Sr(v(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),Xt(this),Nr(this))};function wi(l){l.B!=null&&(f.clearTimeout(l.B),l.B=null)}function Nr(l){l.g=new sn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=on(l.na);Oe(p,"RID","rpc"),Oe(p,"SID",l.M),Oe(p,"AID",l.K),Oe(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Oe(p,"TO",l.ia),Oe(p,"TYPE","xmlhttp"),Ln(l,p),l.u&&l.o&&rs(p,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=tr(on(p)),m.u=null,m.R=!0,oo(m,l)}i.Va=function(){this.C!=null&&(this.C=null,Xt(this),Fn(this),Ze(19))};function as(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function ls(l,p){var m=null;if(l.g==p){as(l),wi(l),l.g=null;var E=2}else if(uo(l.h,p))m=p.G,pi(l.h,p),E=1;else return;if(l.I!=0){if(p.o)if(E==1){m=p.u?p.u.length:0,p=Date.now()-p.F;var L=l.D;E=Ir(),tt(E,new io(E,m)),sr(l)}else Pt(l);else if(L=p.m,L==3||L==0&&p.X>0||!(E==1&&Fa(l,p)||E==2&&Fn(l)))switch(m&&m.length>0&&(p=l.h,p.i=p.i.concat(m)),L){case 1:Yt(l,5);break;case 4:Yt(l,10);break;case 3:Yt(l,6);break;default:Yt(l,2)}}}function us(l,p){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*p}function Yt(l,p){if(l.j.info("Error code "+p),p==2){var m=v(l.bb,l),E=l.Ua;const L=!E;E=new Pn(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||mi(E,"https"),tr(E),L?Nn(E.toString(),m):xn(E.toString(),m)}else Ze(2);l.I=0,l.l&&l.l.pa(p),Ti(l),os(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ti(l){if(l.I=0,l.ja=[],l.l){const p=Qt(l.h);(p.length!=0||l.i.length!=0)&&(Y(l.ja,p),Y(l.ja,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.oa()}}function wo(l,p,m){var E=m instanceof Pn?on(m):new Pn(m);if(E.g!="")p&&(E.g=p+"."+E.g),kn(E,E.u);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const z=new Pn(null);E&&mi(z,E),p&&(z.g=p),L&&kn(z,L),m&&(z.h=m),E=z}return m=l.G,p=l.wa,m&&p&&Oe(E,m,p),Oe(E,"VER",l.ka),Ln(l,E),E}function Ua(l,p,m){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new ze(new nr({ab:m})):new ze(l.ma),p.Fa(l.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function za(){}i=za.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function cs(){}cs.prototype.g=function(l,p){return new wt(l,p)};function wt(l,p){st.call(this),this.g=new is(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!S(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new xr(this)}C(wt,st),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){ss(this.g)},wt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Er(l),l=m);p.i.push(new Iu(p.Ya++,l)),p.I==3&&sr(p)},wt.prototype.N=function(){this.g.l=null,delete this.j,ss(this.g),delete this.g,wt.Z.N.call(this)};function ba(l){Gi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}C(ba,Gi);function Ba(){ro.call(this),this.status=1}C(Ba,ro);function xr(l){this.g=l}C(xr,za),xr.prototype.ra=function(){tt(this.g,"a")},xr.prototype.qa=function(l){tt(this.g,new ba(l))},xr.prototype.pa=function(l){tt(this.g,new Ba)},xr.prototype.oa=function(){tt(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,ug=function(){return new cs},lg=function(){return Ir()},ag=mn,hh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Bl=Rr,Cr.COMPLETE="complete",og=Cr,Ta.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",st.prototype.listen=st.prototype.J,Ko=Ta,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,sg=ze}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const Qp="@firebase/firestore",Gp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Jm("@firebase/firestore");function Ns(){return zi.logLevel}function te(i,...e){if(zi.logLevel<=ke.DEBUG){const n=e.map(Oh);zi.debug(`Firestore (${Qs}): ${i}`,...n)}}function gr(i,...e){if(zi.logLevel<=ke.ERROR){const n=e.map(Oh);zi.error(`Firestore (${Qs}): ${i}`,...n)}}function zs(i,...e){if(zi.logLevel<=ke.WARN){const n=e.map(Oh);zi.warn(`Firestore (${Qs}): ${i}`,...n)}}function Oh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,cg(i,s,n)}function cg(i,e,n){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Le(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||cg(e,a,s)}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ot.UNAUTHENTICATED)))}shutdown(){}}class xE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OE{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await a(this.currentUser)}))},g=_=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string",31837,{l:s}),new hg(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class ME{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LE{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ME(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ot.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kp(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Se(i,e){return i<e?-1:i>e?1:0}function fh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return th(a)===th(c)?Se(a,c):th(a)?1:-1}return Se(i.length,e.length)}const zE=55296,bE=57343;function th(i){const e=i.charCodeAt(0);return e>=zE&&e<=bE}function bs(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&he(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Se(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):fh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class $e extends qn{construct(e,n,s){return new $e(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ee(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new $e(n)}static emptyPath(){return new $e([])}}const BE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends qn{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return BE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xp}static keyField(){return new At([Xp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ee(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new ee(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ee(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(c(),a++)}if(c(),f)throw new ee(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae($e.fromString(e))}static fromName(e){return new ae($e.fromString(e).popFirst(5))}static empty(){return new ae($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i,e,n){if(!n)throw new ee(b.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jE(i,e,n,s){if(e===!0&&s===!0)throw new ee(b.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yp(i){if(!ae.isDocumentKey(i))throw new ee(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Jp(i){if(ae.isDocumentKey(i))throw new ee(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dg(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function lu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":he(12329,{type:typeof i})}function Jr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ee(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lu(i);throw new ee(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function da(i,e){if(!dg(i))throw new ee(b.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(a&&typeof f!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ee(b.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-62135596800,em=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*em);return new Qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zp)throw new ee(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/em}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(da(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:ct("string",Qe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Qe(0,0))}static max(){return new de(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=-1;function $E(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=de.fromTimestamp(s===1e9?new Qe(n+1,0):new Qe(n,s));return new ei(a,ae.empty(),e)}function qE(i){return new ei(i.readTime,i.key,oa)}class ei{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ei(de.min(),ae.empty(),oa)}static max(){return new ei(de.max(),ae.empty(),oa)}}function HE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(i.documentKey,e.documentKey),n!==0?n:Se(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(i){if(i.code!==b.FAILED_PRECONDITION||i.message!==WE)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,s)=>{n(e)}))}static reject(e){return new j(((n,s)=>{s(e)}))}static waitFor(e){return new j(((n,s)=>{let a=0,c=0,f=!1;e.forEach((g=>{++a,g.next((()=>{++c,f&&c===a&&n()}),(_=>s(_)))})),f=!0,c===a&&n()}))}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next((a=>a?j.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new j(((s,a)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;n(e[v]).next((w=>{f[v]=w,++g,g===c&&s(f)}),(w=>a(w)))}}))}static doWhile(e,n){return new j(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function GE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ks(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function cu(i){return i==null}function Yl(i){return i===0&&1/i==-1/0}function KE(i){return typeof i=="number"&&Number.isInteger(i)&&!Yl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="";function XE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tm(e)),e=YE(i.get(n),e);return tm(e)}function YE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case pg:n+="";break;default:n+=c}}return n}function tm(i){return i+pg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function oi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ll(this.root,e,this.comparator,!0)}}class Ll{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rm(this.data.getIterator())}getIteratorFrom(e){return new rm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class rm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new rn([])}unionWith(e){let n=new pt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gg("Invalid base64 string: "+c):c}})(e);return new Rt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c})(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const JE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(i){if(Le(!!i,39018),typeof i=="string"){let e=0;const n=JE.exec(i);if(Le(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ni(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="server_timestamp",_g="__type__",vg="__previous_value__",Eg="__local_write_time__";function Fh(i){return(i?.mapValue?.fields||{})[_g]?.stringValue===yg}function hu(i){const e=i.mapValue.fields[vg];return Fh(e)?hu(e):e}function aa(i){const e=ti(i.mapValue.fields[Eg].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,s,a,c,f,g,_,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=w}}const Jl="(default)";class la{constructor(e,n){this.projectId=e,this.database=n||Jl}static empty(){return new la("","")}get isDefaultDatabase(){return this.database===Jl}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="__type__",ew="__max__",Fl={mapValue:{}},Tg="__vector__",Zl="value";function ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fh(i)?4:nw(i)?9007199254740991:tw(i)?10:11:he(28295,{value:i})}function Xn(i,e){if(i===e)return!0;const n=ri(i);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=ti(a.timestampValue),g=ti(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return ni(a.bytesValue).isEqual(ni(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),g=it(c.doubleValue);return f===g?Yl(f)===Yl(g):isNaN(f)&&isNaN(g)}return!1})(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return(function(a,c){const f=a.mapValue.fields||{},g=c.mapValue.fields||{};if(nm(f)!==nm(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Xn(f[_],g[_])))return!1;return!0})(i,e);default:return he(52216,{left:i})}}function ua(i,e){return(i.values||[]).find((n=>Xn(n,e)))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ri(i),s=ri(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=it(c.integerValue||c.doubleValue),_=it(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(i,e);case 3:return im(i.timestampValue,e.timestampValue);case 4:return im(aa(i),aa(e));case 5:return fh(i.stringValue,e.stringValue);case 6:return(function(c,f){const g=ni(c),_=ni(f);return g.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let v=0;v<g.length&&v<_.length;v++){const w=Se(g[v],_[v]);if(w!==0)return w}return Se(g.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Se(it(c.latitude),it(f.latitude));return g!==0?g:Se(it(c.longitude),it(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sm(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},_=f.fields||{},v=g[Zl]?.arrayValue,w=_[Zl]?.arrayValue,C=Se(v?.values?.length||0,w?.values?.length||0);return C!==0?C:sm(v,w)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Fl.mapValue&&f===Fl.mapValue)return 0;if(c===Fl.mapValue)return 1;if(f===Fl.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=f.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let C=0;C<_.length&&C<w.length;++C){const N=fh(_[C],w[C]);if(N!==0)return N;const B=Bs(g[_[C]],v[w[C]]);if(B!==0)return B}return Se(_.length,w.length)})(i.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function im(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Se(i,e);const n=ti(i),s=ti(e),a=Se(n.seconds,s.seconds);return a!==0?a:Se(n.nanos,s.nanos)}function sm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return Se(n.length,s.length)}function js(i){return dh(i)}function dh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ti(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ni(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ae.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=dh(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${dh(n.fields[f])}`;return a+"}"})(i.mapValue):he(61005,{value:i})}function jl(i){switch(ri(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hu(i);return e?16+jl(e):16;case 5:return 2*i.stringValue.length;case 6:return ni(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+jl(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return oi(s.fields,((c,f)=>{a+=c.length+jl(f)})),a})(i.mapValue);default:throw he(13486,{value:i})}}function om(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ph(i){return!!i&&"integerValue"in i}function Uh(i){return!!i&&"arrayValue"in i}function am(i){return!!i&&"nullValue"in i}function lm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $l(i){return!!i&&"mapValue"in i}function tw(i){return(i?.mapValue?.fields||{})[wg]?.stringValue===Tg}function ea(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return oi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ea(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(i.arrayValue.values[n]);return e}return{...i}}function nw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=ea(f):a.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];$l(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oi(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new Wt(ea(this.value))}}function Ig(i){const e=[];return oi(i.fields,((n,s)=>{const a=new At([n]);if($l(s)){const c=Ig(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)})),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Mt(e,0,de.min(),de.min(),de.min(),Wt.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,de.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,de.min(),de.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,de.min(),de.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.position=e,this.inclusive=n}}function um(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ae.comparator(ae.fromName(f.referenceValue),n.key):s=Bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function cm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function rw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{}class ut extends Sg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sw(e,n,s):n==="array-contains"?new lw(e,s):n==="in"?new uw(e,s):n==="not-in"?new cw(e,s):n==="array-contains-any"?new hw(e,s):new ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ow(e,s):new aw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends Sg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new An(e,n)}matches(e){return Ag(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ag(i){return i.op==="and"}function Rg(i){return iw(i)&&Ag(i)}function iw(i){for(const e of i.filters)if(e instanceof An)return!1;return!0}function mh(i){if(i instanceof ut)return i.field.canonicalString()+i.op.toString()+js(i.value);if(Rg(i))return i.filters.map((e=>mh(e))).join(",");{const e=i.filters.map((n=>mh(n))).join(",");return`${i.op}(${e})`}}function Cg(i,e){return i instanceof ut?(function(s,a){return a instanceof ut&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)})(i,e):i instanceof An?(function(s,a){return a instanceof An&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,f,g)=>c&&Cg(f,a.filters[g])),!0):!1})(i,e):void he(19439)}function Pg(i){return i instanceof ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`})(i):i instanceof An?(function(n){return n.op.toString()+" {"+n.getFilters().map(Pg).join(" ,")+"}"})(i):"Filter"}class sw extends ut{constructor(e,n,s){super(e,n,s),this.key=ae.fromName(s.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class ow extends ut{constructor(e,n){super(e,"in",n),this.keys=kg("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aw extends ut{constructor(e,n){super(e,"not-in",n),this.keys=kg("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kg(i,e){return(e.arrayValue?.values||[]).map((n=>ae.fromName(n.referenceValue)))}class lw extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uh(n)&&ua(n.arrayValue,this.value)}}class uw extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class cw extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ua(this.value.arrayValue,n)}}class hw extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ua(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n=null,s=[],a=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function hm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new fw(i,e,n,s,a,c,f)}function zh(i){const e=me(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>mh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>js(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>js(s))).join(",")),e.Te=n}return e.Te}function bh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Cg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cm(i.startAt,e.startAt)&&cm(i.endAt,e.endAt)}function gh(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n=null,s=[],a=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dw(i,e,n,s,a,c,f,g){return new Xs(i,e,n,s,a,c,f,g)}function Bh(i){return new Xs(i)}function fm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Vg(i){return i.collectionGroup!==null}function ta(i){const e=me(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new pt(At.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ca(c,s))})),n.has(At.keyField().canonicalString())||e.Ie.push(new ca(At.keyField(),s))}return e.Ie}function Hn(i){const e=me(i);return e.Ee||(e.Ee=pw(e,ta(i))),e.Ee}function pw(i,e){if(i.limitType==="F")return hm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new ca(a.field,c)}));const n=i.endAt?new eu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new eu(i.startAt.position,i.startAt.inclusive):null;return hm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function yh(i,e){const n=i.filters.concat([e]);return new Xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function _h(i,e,n){return new Xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function fu(i,e){return bh(Hn(i),Hn(e))&&i.limitType===e.limitType}function Dg(i){return`${zh(Hn(i))}|lt:${i.limitType}`}function xs(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Pg(a))).join(", ")}]`),cu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>js(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>js(a))).join(",")),`Target(${s})`})(Hn(i))}; limitType=${i.limitType})`}function du(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ae.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of ta(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(f,g,_){const v=um(f,g,_);return f.inclusive?v<=0:v<0})(s.startAt,ta(s),a)||s.endAt&&!(function(f,g,_){const v=um(f,g,_);return f.inclusive?v>=0:v>0})(s.endAt,ta(s),a))})(i,e)}function mw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ng(i){return(e,n)=>{let s=!1;for(const a of ta(i)){const c=gw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function gw(i,e,n){const s=i.field.isKeyField()?ae.comparator(e.key,n.key):(function(c,f,g){const _=f.data.field(c),v=g.data.field(c);return _!==null&&v!==null?Bs(_,v):he(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return he(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return mg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Je(ae.comparator);function yr(){return yw}const xg=new Je(ae.comparator);function Xo(...i){let e=xg;for(const n of i)e=e.insert(n.key,n);return e}function Og(i){let e=xg;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Li(){return na()}function Mg(){return na()}function na(){return new Bi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _w=new Je(ae.comparator),vw=new pt(ae.comparator);function Ae(...i){let e=vw;for(const n of i)e=e.add(n);return e}const Ew=new pt(Se);function ww(){return Ew}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function Lg(i){return{integerValue:""+i}}function Tw(i,e){return KE(e)?Lg(e):jh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this._=void 0}}function Iw(i,e,n){return i instanceof tu?(function(a,c){const f={fields:{[_g]:{stringValue:yg},[Eg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Fh(c)&&(c=hu(c)),c&&(f.fields[vg]=c),{mapValue:f}})(n,e):i instanceof ha?Ug(i,e):i instanceof fa?zg(i,e):(function(a,c){const f=Fg(a,c),g=dm(f)+dm(a.Ae);return ph(f)&&ph(a.Ae)?Lg(g):jh(a.serializer,g)})(i,e)}function Sw(i,e,n){return i instanceof ha?Ug(i,e):i instanceof fa?zg(i,e):n}function Fg(i,e){return i instanceof nu?(function(s){return ph(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class tu extends pu{}class ha extends pu{constructor(e){super(),this.elements=e}}function Ug(i,e){const n=bg(e);for(const s of i.elements)n.some((a=>Xn(a,s)))||n.push(s);return{arrayValue:{values:n}}}class fa extends pu{constructor(e){super(),this.elements=e}}function zg(i,e){let n=bg(e);for(const s of i.elements)n=n.filter((a=>!Xn(a,s)));return{arrayValue:{values:n}}}class nu extends pu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dm(i){return it(i.integerValue||i.doubleValue)}function bg(i){return Uh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Aw(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof ha&&a instanceof ha||s instanceof fa&&a instanceof fa?bs(s.elements,a.elements,Xn):s instanceof nu&&a instanceof nu?Xn(s.Ae,a.Ae):s instanceof tu&&a instanceof tu})(i.transform,e.transform)}class Rw{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mu{}function Bg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $h(i.key,Sn.none()):new pa(i.key,i.data,Sn.none());{const n=i.data,s=Wt.empty();let a=new pt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new ai(i.key,s,new rn(a.toArray()),Sn.none())}}function Cw(i,e,n){i instanceof pa?(function(a,c,f){const g=a.value.clone(),_=mm(a.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):i instanceof ai?(function(a,c,f){if(!ql(a.precondition,c))return void c.convertToUnknownDocument(f.version);const g=mm(a.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(jg(a)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,e,n):(function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ra(i,e,n,s){return i instanceof pa?(function(c,f,g,_){if(!ql(c.precondition,f))return g;const v=c.value.clone(),w=gm(c.fieldTransforms,_,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof ai?(function(c,f,g,_){if(!ql(c.precondition,f))return g;const v=gm(c.fieldTransforms,_,f),w=f.data;return w.setAll(jg(c)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((C=>C.field)))})(i,e,n,s):(function(c,f,g){return ql(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(i,e,n)}function Pw(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Fg(s.transform,a||null);c!=null&&(n===null&&(n=Wt.empty()),n.set(s.field,c))}return n||null}function pm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bs(s,a,((c,f)=>Aw(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pa extends mu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ai extends mu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jg(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function mm(i,e,n){const s=new Map;Le(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,g=e.data.field(c.field);s.set(c.field,Sw(f,g,n[a]))}return s}function gm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Iw(c,f,e))}return s}class $h extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kw extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Cw(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mg();return this.mutations.forEach((a=>{const c=e.get(a.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(a.key)?null:g;const _=Bg(f,g);_!==null&&s.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(de.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ae())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,((n,s)=>pm(n,s)))&&bs(this.baseMutations,e.baseMutations,((n,s)=>pm(n,s)))}}class qh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Le(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return _w})();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new qh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Pe;function xw(i){switch(i){case b.OK:return he(64938);case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return he(15467,{code:i})}}function $g(i){if(i===void 0)return gr("GRPC error has no .code"),b.UNKNOWN;switch(i){case lt.OK:return b.OK;case lt.CANCELLED:return b.CANCELLED;case lt.UNKNOWN:return b.UNKNOWN;case lt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case lt.INTERNAL:return b.INTERNAL;case lt.UNAVAILABLE:return b.UNAVAILABLE;case lt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case lt.NOT_FOUND:return b.NOT_FOUND;case lt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case lt.ABORTED:return b.ABORTED;case lt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case lt.DATA_LOSS:return b.DATA_LOSS;default:return he(39323,{code:i})}}(Pe=lt||(lt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Yr([4294967295,4294967295],0);function ym(i){const e=Ow().encode(i),n=new ig;return n.update(e),new Uint8Array(n.digest())}function _m(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([a,c],0)]}class Hh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(s<0)throw new Yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Yr.fromNumber(s)));return a.compare(Mw)===1&&(a=new Yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ym(e),[s,a]=_m(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,a,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Hh(c,a,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=ym(e),[s,a]=_m(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,a,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gu(de.min(),a,new Je(Se),yr(),Ae())}}class ma{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ma(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class qg{constructor(e,n){this.targetId=e,this.Ce=n}}class Hg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class vm{constructor(){this.ve=0,this.Fe=Em(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),s=Ae();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:he(38017,{changeType:c})}})),new ma(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Em()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lw{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=Ul(),this.He=Ul(),this.Ye=new Je(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:he(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(gh(c))if(s===0){const f=new ae(c.path);this.et(n,f,Mt.newNoDocument(f,de.min()))}else Le(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(n);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,g;try{f=ni(s).toUint8Array()}catch(_){if(_ instanceof gg)return zs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Hh(f,a,c)}catch(_){return zs(_ instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&gh(g.target)){const _=new ae(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Mt.newNoDocument(_,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Ae();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const a=new gu(e,n,this.Ye,this.je,s);return this.je=yr(),this.Je=Ul(),this.He=Ul(),this.Ye=new Je(Se),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vm),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ul(){return new Je(ae.comparator)}function Em(){return new Je(ae.comparator)}const Fw={asc:"ASCENDING",desc:"DESCENDING"},Uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zw={and:"AND",or:"OR"};class bw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vh(i,e){return i.useProto3Json||cu(e)?e:{value:e}}function ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Bw(i,e){return ru(i,e.toTimestamp())}function Wn(i){return Le(!!i,49232),de.fromTimestamp((function(n){const s=ti(n);return new Qe(s.seconds,s.nanos)})(i))}function Wh(i,e){return Eh(i,e).canonicalString()}function Eh(i,e){const n=(function(a){return new $e(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Qg(i){const e=$e.fromString(i);return Le(Jg(e),10190,{key:e.toString()}),e}function wh(i,e){return Wh(i.databaseId,e.path)}function nh(i,e){const n=Qg(e);if(n.get(1)!==i.databaseId.projectId)throw new ee(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ee(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ae(Kg(n))}function Gg(i,e){return Wh(i.databaseId,e)}function jw(i){const e=Qg(i);return e.length===4?$e.emptyPath():Kg(e)}function Th(i){return new $e(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kg(i){return Le(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function wm(i,e,n){return{name:wh(i,e),fields:n.value.mapValue.fields}}function $w(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:he(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(Le(w===void 0||typeof w=="string",58123),Rt.fromBase64String(w||"")):(Le(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Rt.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(v){const w=v.code===void 0?b.UNKNOWN:$g(v.code);return new ee(w,v.message||"")})(f);n=new Hg(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=nh(i,s.document.name),c=Wn(s.document.updateTime),f=s.document.createTime?Wn(s.document.createTime):de.min(),g=new Wt({mapValue:{fields:s.document.fields}}),_=Mt.newFoundDocument(a,c,f,g),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Hl(v,w,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=nh(i,s.document),c=s.readTime?Wn(s.readTime):de.min(),f=Mt.newNoDocument(a,c),g=s.removedTargetIds||[];n=new Hl([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=nh(i,s.document),c=s.removedTargetIds||[];n=new Hl([],c,a,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new Nw(a,c),g=s.targetId;n=new qg(g,f)}}return n}function qw(i,e){let n;if(e instanceof pa)n={update:wm(i,e.key,e.value)};else if(e instanceof $h)n={delete:wh(i,e.key)};else if(e instanceof ai)n={update:wm(i,e.key,e.data),updateMask:Zw(e.fieldMask)};else{if(!(e instanceof kw))return he(16599,{Vt:e.type});n={verify:wh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ha)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nu)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw he(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:Bw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:he(27497)})(i,e.precondition)),n}function Hw(i,e){return i&&i.length>0?(Le(e!==void 0,14353),i.map((n=>(function(a,c){let f=a.updateTime?Wn(a.updateTime):Wn(c);return f.isEqual(de.min())&&(f=Wn(c)),new Rw(f,a.transformResults||[])})(n,e)))):[]}function Ww(i,e){return{documents:[Gg(i,e.path)]}}function Qw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gg(i,a);const c=(function(v){if(v.length!==0)return Yg(An.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:Os(N.field),direction:Xw(N.dir)}})(w)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=vh(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function Gw(i){let e=jw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Le(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=(function(C){const N=Xg(C);return N instanceof An&&Rg(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(C){return C.map((N=>(function(Y){return new ca(Ms(Y.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(C){let N;return N=typeof C=="object"?C.value:C,cu(N)?null:N})(n.limit));let _=null;n.startAt&&(_=(function(C){const N=!!C.before,B=C.values||[];return new eu(B,N)})(n.startAt));let v=null;return n.endAt&&(v=(function(C){const N=!C.before,B=C.values||[];return new eu(B,N)})(n.endAt)),dw(e,a,f,c,g,"F",_,v)}function Kw(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xg(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ms(n.unaryFilter.field);return ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ms(n.unaryFilter.field);return ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ms(n.unaryFilter.field);return ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ms(n.unaryFilter.field);return ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}})(i):i.fieldFilter!==void 0?(function(n){return ut.create(Ms(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return An.create(n.compositeFilter.filters.map((s=>Xg(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return he(1026)}})(n.compositeFilter.op))})(i):he(30097,{filter:i})}function Xw(i){return Fw[i]}function Yw(i){return Uw[i]}function Jw(i){return zw[i]}function Os(i){return{fieldPath:i.canonicalString()}}function Ms(i){return At.fromServerFormat(i.fieldPath)}function Yg(i){return i instanceof ut?(function(n){if(n.op==="=="){if(lm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(am(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(am(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:Yw(n.op),value:n.value}}})(i):i instanceof An?(function(n){const s=n.getFilters().map((a=>Yg(a)));return s.length===1?s[0]:{compositeFilter:{op:Jw(n.op),filters:s}}})(i):he(54877,{filter:i})}function Zw(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Jg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,a,c=de.min(),f=de.min(),g=Rt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.yt=e}}function t0(i){const e=Gw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.Cn=new r0}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ei.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class r0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt($e.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zg=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(Zg,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $s(0)}static cr(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LruGarbageCollector",i0=1048576;function Sm([i,e],[n,s]){const a=Se(i,n);return a===0?Se(e,s):a}class s0{constructor(e){this.Ir=e,this.buffer=new pt(Sm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Sm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(Im,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ks(n)?te(Im,"Ignoring IndexedDB error during garbage collection: ",n):await Gs(n)}await this.Vr(3e5)}))}}class a0{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(uu.ce);const s=new s0(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Tm)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tm):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,f,g,_,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a)))).next((C=>(s=C,g=Date.now(),this.removeTargets(e,s,n)))).next((C=>(c=C,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(v=Date.now(),Ns()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C}))))}}function l0(i,e){return new a0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.changes=new Bi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ra(s.mutation,a,rn.empty(),Qe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ae()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ae()){const a=Li();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let f=Xo();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Li();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ae())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,a){let c=yr();const f=na(),g=(function(){return na()})();return n.forEach(((_,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof ai)?c=c.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),ra(w.mutation,v,w.mutation.getFieldMask(),Qe.now())):f.set(v.key,rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,w)=>f.set(v,w))),n.forEach(((v,w)=>g.set(v,new c0(w,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=na();let a=new Je(((f,g)=>f-g)),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((_=>{const v=n.get(_);if(v===null)return;let w=s.get(_)||rn.empty();w=g.applyToLocalView(v,w),s.set(_,w);const C=(a.get(g.batchId)||Ae()).add(_);a=a.insert(g.batchId,C)}))})).next((()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,w=_.value,C=Mg();w.forEach((N=>{if(!c.has(N)){const B=Bg(n.get(N),s.get(N));B!==null&&C.set(N,B),c=c.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,C))}return j.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(f){return ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):j.resolve(Li());let g=oa,_=c;return f.next((v=>j.forEach(v,((w,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(w)?j.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{_=_.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ae()))).next((w=>({batchId:g,changes:Og(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next((s=>{let a=Xo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Xo();return this.indexManager.getCollectionParents(e,c).next((g=>j.forEach(g,(_=>{const v=(function(C,N){return new Xs(N,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((C,N)=>{f=f.insert(C,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((f=>{c.forEach(((_,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Mt.newInvalidDocument(w)))}));let g=Xo();return f.forEach(((_,v)=>{const w=c.get(_);w!==void 0&&ra(w.mutation,v,rn.empty(),Qe.now()),du(n,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:t0(a.bundledQuery),readTime:Wn(a.readTime)}})(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.overlays=new Je(ae.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Li();return j.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.St(e,n,c)})),j.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const a=Li(),c=n.length+1,f=new ae(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return j.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Je(((v,w)=>v-w));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Li(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const g=Li(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,w)=>g.set(v,w))),!(g.size()>=a)););return j.resolve(g)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Dw(n,s));let c=this.qr.get(n);c===void 0&&(c=Ae(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.Qr=new pt(vt.$r),this.Ur=new pt(vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new vt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ae(new $e([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Ur.forEachInRange([s,a],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new $e([])),s=new vt(n,e),a=new vt(n,e+1);let c=Ae();return this.Ur.forEachInRange([s,a],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(vt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Vw(c,n,s,a);this.mutationQueue.push(f);for(const g of a)this.Zr=this.Zr.add(new vt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return j.resolve(f)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Lh:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],(f=>{const g=this.Xr(f.Yr);c.push(g)})),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Se);return n.forEach((a=>{const c=new vt(a,0),f=new vt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{s=s.add(g.Yr)}))})),j.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ae.isDocumentKey(c)||(c=c.child(""));const f=new vt(new ae(c),0);let g=new pt(Se);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(g=g.add(_.Yr)),!0)}),f),j.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return j.forEach(n.mutations,(a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new vt(n,0),a=this.Zr.firstAfterOrEqual(s);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.ri=e,this.docs=(function(){return new Je(ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))})),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=yr();const f=n.path,g=new ae(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||HE(qE(w),s)<=0||(a.has(w.key)||du(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,n,s,a){he(9500)}ii(e,n){return j.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new y0(this)}getSize(e){return j.resolve(this.size)}}class y0 extends u0{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.persistence=e,this.si=new Bi((n=>zh(n)),bh),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new Qh,this.targetCount=0,this.ai=$s.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)})),j.waitFor(c).next((()=>a))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((f=>{c.push(a.markPotentiallyOrphaned(e,f))})),j.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.ui={},this.overlays={},this.ci=new uu(0),this.li=!1,this.li=!0,this.hi=new p0,this.referenceDelegate=e(this),this.Pi=new _0(this),this.indexManager=new n0,this.remoteDocumentCache=(function(a){return new g0(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new e0(n),this.Ii=new f0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new m0(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new v0(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return j.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class v0 extends QE{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Qh,this.Vi=null}static mi(e){return new Gh(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(s=>{const a=ae.fromPath(s);return this.gi(e,a).next((c=>{c||n.removeEntry(a,de.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class iu{constructor(e,n){this.persistence=e,this.pi=new Bi((s=>XE(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=l0(this,n)}static mi(e,n){return new iu(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return j.forEach(this.pi,((s,a)=>this.br(e,s,a).next((c=>c?j.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,c.removeEntry(f,de.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jl(e.data.value)),n}br(e,n,s){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return j.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Kh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fv()?8:GE(cv())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,a,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new E0;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ns()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ns()<=ke.DEBUG&&te("QueryEngine","Query:",xs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ns()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):j.resolve())}ys(e,n){if(fm(n))return j.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_h(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ae(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.Ds(n,g);return this.Cs(n,v,f,_.readTime)?this.ys(e,_h(n,null,"F")):this.vs(e,v,n,_)}))))})))))}ws(e,n,s,a){return fm(n)||a.isEqual(de.min())?j.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,a)?j.resolve(null):(Ns()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xs(n)),this.vs(e,f,n,$E(a,oa)).next((g=>g)))}))}Ds(e,n){let s=new pt(Ng(e));return n.forEach(((a,c)=>{du(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return Ns()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",xs(n)),this.ps.getDocumentsMatchingQuery(e,n,ei.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="LocalStore",T0=3e8;class I0{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Je(Se),this.xs=new Bi((c=>zh(c)),bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h0(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function S0(i,e,n,s){return new I0(i,e,n,s)}async function ty(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let _=Ae();for(const v of a){f.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of c){g.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return n.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function A0(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,w){const C=v.batch,N=C.keys();let B=j.resolve();return N.forEach((Y=>{B=B.next((()=>w.getEntry(_,Y))).next((X=>{const W=v.docVersions.get(Y);Le(W!==null,48541),X.version.compareTo(W)<0&&(C.applyToRemoteDocument(X,v),X.isValidDocument()&&(X.setReadTime(v.commitVersion),w.addEntry(X)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,C)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ae();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function ny(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function R0(i,e){const n=me(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const g=[];e.targetChanges.forEach(((w,C)=>{const N=a.get(C);if(!N)return;g.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(c,w.addedDocuments,C))));let B=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(Rt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),a=a.insert(C,B),(function(X,W,Ee){return X.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=T0?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(N,B,w)&&g.push(n.Pi.updateTargetData(c,B))}));let _=yr(),v=Ae();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))})),g.push(C0(c,f,e.documentUpdates).next((w=>{_=w.ks,v=w.qs}))),!s.isEqual(de.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next((C=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(w)}return j.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(n.Ms=a,c)))}function C0(i,e,n){let s=Ae(),a=Ae();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let f=yr();return n.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(de.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):te(Xh,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:a}}))}function P0(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lh),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function k0(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((c=>c?(a=c,j.resolve(a)):n.Pi.allocateTargetId(s).next((f=>(a=new Gr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ih(i,e,n){const s=me(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Ks(f))throw f;te(Xh,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Am(i,e,n){const s=me(i);let a=de.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,w){const C=me(_),N=C.xs.get(w);return N!==void 0?j.resolve(C.Ms.get(N)):C.Pi.getTargetData(v,w)})(s,f,Hn(e)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?a:de.min(),n?c:Ae()))).next((g=>(V0(s,mw(e),g),{documents:g,Qs:c})))))}function V0(i,e,n){let s=i.Os.get(e)||de.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class Rm{constructor(){this.activeTargetIds=ww()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D0{constructor(){this.Mo=new Rm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="ConnectivityMonitor";class Pm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(Cm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(Cm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function Sh(){return zl===null?zl=(function(){return 268435456+Math.round(2147483648*Math.random())})():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="RestConnection",x0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O0{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Jl?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const f=Sh(),g=this.zo(e,n.toUriEncodedString());te(rh,`Sending RPC '${e}' ${f}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,a,c);const{host:v}=new URL(g),w=Nh(v);return this.Jo(e,g,_,s,w).then((C=>(te(rh,`Received RPC '${e}' ${f}: `,C),C)),(C=>{throw zs(rh,`RPC '${e}' ${f} failed with error: `,C,"url: ",g,"request:",s),C}))}Ho(e,n,s,a,c,f){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const s=x0[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class L0 extends O0{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const f=Sh();return new Promise(((g,_)=>{const v=new sg;v.setWithCredentials(!0),v.listenOnce(og.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Bl.NO_ERROR:const C=v.getResponseJson();te(xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),g(C);break;case Bl.TIMEOUT:te(xt,`RPC '${e}' ${f} timed out`),_(new ee(b.DEADLINE_EXCEEDED,"Request time out"));break;case Bl.HTTP_ERROR:const N=v.getStatus();if(te(xt,`RPC '${e}' ${f} failed with status:`,N,"response text:",v.getResponseText()),N>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B?.error;if(Y&&Y.status&&Y.message){const X=(function(Ee){const ge=Ee.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(ge)>=0?ge:b.UNKNOWN})(Y.status);_(new ee(X,Y.message))}else _(new ee(b.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ee(b.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{te(xt,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(a);te(xt,`RPC '${e}' ${f} sending request:`,a),v.send(n,"POST",w,s,15)}))}T_(e,n,s){const a=Sh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ug(),g=lg(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const w=c.join("");te(xt,`Creating RPC '${e}' stream ${a}: ${w}`,_);const C=f.createWebChannel(w,_);this.I_(C);let N=!1,B=!1;const Y=new M0({Yo:W=>{B?te(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(N||(te(xt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),N=!0),te(xt,`RPC '${e}' stream ${a} sending:`,W),C.send(W))},Zo:()=>C.close()}),X=(W,Ee,ge)=>{W.listen(Ee,(ye=>{try{ge(ye)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return X(C,Ko.EventType.OPEN,(()=>{B||(te(xt,`RPC '${e}' stream ${a} transport opened.`),Y.o_())})),X(C,Ko.EventType.CLOSE,(()=>{B||(B=!0,te(xt,`RPC '${e}' stream ${a} transport closed`),Y.a_(),this.E_(C))})),X(C,Ko.EventType.ERROR,(W=>{B||(B=!0,zs(xt,`RPC '${e}' stream ${a} transport errored. Name:`,W.name,"Message:",W.message),Y.a_(new ee(b.UNAVAILABLE,"The operation could not be completed")))})),X(C,Ko.EventType.MESSAGE,(W=>{if(!B){const Ee=W.data[0];Le(!!Ee,16349);const ge=Ee,ye=ge?.error||ge[0]?.error;if(ye){te(xt,`RPC '${e}' stream ${a} received error:`,ye);const Ne=ye.status;let be=(function(I){const A=lt[I];if(A!==void 0)return $g(A)})(Ne),Ce=ye.message;be===void 0&&(be=b.INTERNAL,Ce="Unknown error status: "+Ne+" with message "+ye.message),B=!0,Y.a_(new ee(be,Ce)),C.close()}else te(xt,`RPC '${e}' stream ${a} received:`,Ee),Y.u_(Ee)}})),X(g,ag.STAT_EVENT,(W=>{W.stat===hh.PROXY?te(xt,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===hh.NOPROXY&&te(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){return new bw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="PersistentStream";class iy{constructor(e,n,s,a,c,f,g,_){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ry(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ee(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return te(km,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(te(km,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F0 extends iy{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$w(this.serializer,e),s=(function(c){if(!("targetChange"in c))return de.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?de.min():f.readTime?Wn(f.readTime):de.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Th(this.serializer),n.addTarget=(function(c,f){let g;const _=f.target;if(g=gh(_)?{documents:Ww(c,_)}:{query:Qw(c,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Wg(c,f.resumeToken);const v=vh(c,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(de.min())>0){g.readTime=ru(c,f.snapshotVersion.toTimestamp());const v=vh(c,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=Kw(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Th(this.serializer),n.removeTarget=e,this.q_(n)}}class U0 extends iy{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Hw(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Th(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qw(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{}class b0 extends z0{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ee(b.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Eh(n,s),a,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ee(b.UNKNOWN,c.toString())}))}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Eh(n,s),a,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ee(b.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class B0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class j0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ji(this)&&(te(bi,"Restarting streams for network reachability change."),await(async function(_){const v=me(_);v.Ea.add(4),await ga(v),v.Ra.set("Unknown"),v.Ea.delete(4),await _u(v)})(this))}))})),this.Ra=new B0(s,a)}}async function _u(i){if(ji(i))for(const e of i.da)await e(!0)}async function ga(i){for(const e of i.da)await e(!1)}function sy(i,e){const n=me(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ef(n)?Zh(n):Ys(n).O_()&&Jh(n,e))}function Yh(i,e){const n=me(i),s=Ys(n);n.Ia.delete(e),s.O_()&&oy(n,e),n.Ia.size===0&&(s.O_()?s.L_():ji(n)&&n.Ra.set("Unknown"))}function Jh(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(i).Y_(e)}function oy(i,e){i.Va.Ue(e),Ys(i).Z_(e)}function Zh(i){i.Va=new Lw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ys(i).start(),i.Ra.ua()}function ef(i){return ji(i)&&!Ys(i).x_()&&i.Ia.size>0}function ji(i){return me(i).Ea.size===0}function ay(i){i.Va=void 0}async function $0(i){i.Ra.set("Online")}async function q0(i){i.Ia.forEach(((e,n)=>{Jh(i,e)}))}async function H0(i,e){ay(i),ef(i)?(i.Ra.ha(e),Zh(i)):i.Ra.set("Unknown")}async function W0(i,e,n){if(i.Ra.set("Online"),e instanceof Hg&&e.state===2&&e.cause)try{await(async function(a,c){const f=c.cause;for(const g of c.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ia.delete(g),a.Va.removeTarget(g))})(i,e)}catch(s){te(bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await su(i,s)}else if(e instanceof Hl?i.Va.Ze(e):e instanceof qg?i.Va.st(e):i.Va.tt(e),!n.isEqual(de.min()))try{const s=await ny(i.localStore);n.compareTo(s)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,v)=>{const w=c.Ia.get(_);if(!w)return;c.Ia.set(_,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),oy(c,_);const C=new Gr(w.target,_,v,w.sequenceNumber);Jh(c,C)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(s){te(bi,"Failed to raise snapshot:",s),await su(i,s)}}async function su(i,e,n){if(!Ks(e))throw e;i.Ea.add(1),await ga(i),i.Ra.set("Offline"),n||(n=()=>ny(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{te(bi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _u(i)}))}function ly(i,e){return e().catch((n=>su(i,n,e)))}async function vu(i){const e=me(i),n=ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lh;for(;Q0(e);)try{const a=await P0(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,G0(e,a)}catch(a){await su(e,a)}uy(e)&&cy(e)}function Q0(i){return ji(i)&&i.Ta.length<10}function G0(i,e){i.Ta.push(e);const n=ii(i);n.O_()&&n.X_&&n.ea(e.mutations)}function uy(i){return ji(i)&&!ii(i).x_()&&i.Ta.length>0}function cy(i){ii(i).start()}async function K0(i){ii(i).ra()}async function X0(i){const e=ii(i);for(const n of i.Ta)e.ea(n.mutations)}async function Y0(i,e,n){const s=i.Ta.shift(),a=qh.from(s,e,n);await ly(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await vu(i)}async function J0(i,e){e&&ii(i).X_&&await(async function(s,a){if((function(f){return xw(f)&&f!==b.ABORTED})(a.code)){const c=s.Ta.shift();ii(s).B_(),await ly(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await vu(s)}})(i,e),uy(i)&&cy(i)}async function Vm(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te(bi,"RemoteStore received new credentials");const s=ji(n);n.Ea.add(3),await ga(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _u(n)}async function Z0(i,e){const n=me(i);e?(n.Ea.delete(2),await _u(n)):e||(n.Ea.add(2),await ga(n),n.Ra.set("Unknown"))}function Ys(i){return i.ma||(i.ma=(function(n,s,a){const c=me(n);return c.sa(),new F0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:$0.bind(null,i),t_:q0.bind(null,i),r_:H0.bind(null,i),H_:W0.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ef(i)?Zh(i):i.Ra.set("Unknown")):(await i.ma.stop(),ay(i))}))),i.ma}function ii(i){return i.fa||(i.fa=(function(n,s,a){const c=me(n);return c.sa(),new U0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:K0.bind(null,i),r_:J0.bind(null,i),ta:X0.bind(null,i),na:Y0.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vu(i)):(await i.fa.stop(),i.Ta.length>0&&(te(bi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,g=new tf(e,n,f,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(i,e){if(gr("AsyncQueue",`${e}: ${i}`),Ks(i))return new ee(b.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(e){return new Fs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ae.comparator(n.key,s.key):(n,s)=>ae.comparator(n.key,s.key),this.keyedMap=Xo(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.ga=new Je(ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class qs{constructor(e,n,s,a,c,f,g,_,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new qs(e,n,Fs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tT{constructor(){this.queries=Nm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=Nm(),c.forEach(((f,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new ee(b.ABORTED,"Firestore shutting down"))}}function Nm(){return new Bi((i=>Dg(i)),fu)}async function nT(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new eT,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=nf(f,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&rf(n)}async function rT(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iT(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(a)&&(s=!0);f.wa=a}}s&&rf(n)}function sT(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function rf(i){i.Ca.forEach((e=>{e.next()}))}var Ah,xm;(xm=Ah||(Ah={})).Ma="default",xm.Cache="cache";class oT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ah.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.key=e}}class fy{constructor(e){this.key=e}}class aT{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=Ng(e),this.tu=new Fs(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Dm,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,C)=>{const N=a.get(w),B=du(this.query,C)?C:null,Y=!!N&&this.mutatedKeys.has(N.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;N&&B?N.data.isEqual(B.data)?Y!==X&&(s.track({type:3,doc:B}),W=!0):this.su(N,B)||(s.track({type:2,doc:B}),W=!0,(_&&this.eu(B,_)>0||v&&this.eu(B,v)<0)&&(g=!0)):!N&&B?(s.track({type:0,doc:B}),W=!0):N&&!B&&(s.track({type:1,doc:N}),W=!0,(_||v)&&(g=!0)),W&&(B?(f=f.add(B),c=X?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,C)=>(function(B,Y){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:W})}};return X(B)-X(Y)})(w.type,C.type)||this.eu(w.doc,C.doc))),this.ou(s),a=a??!1;const g=n&&!a?this._u():[],_=this.Xa.size===0&&this.current&&!a?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new qs(this.query,e.tu,c,f,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new fy(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new hy(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sf="SyncEngine";class lT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class uT{constructor(e){this.key=e,this.hu=!1}}class cT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Bi((g=>Dg(g)),fu),this.Iu=new Map,this.Eu=new Set,this.du=new Je(ae.comparator),this.Au=new Map,this.Ru=new Qh,this.Vu={},this.mu=new Map,this.fu=$s.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hT(i,e,n=!0){const s=_y(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await dy(s,e,n,!0),a}async function fT(i,e){const n=_y(i);await dy(n,e,!0,!1)}async function dy(i,e,n,s){const a=await k0(i.localStore,Hn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await dT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&sy(i.remoteStore,a),g}async function dT(i,e,n,s,a){i.pu=(C,N,B)=>(async function(X,W,Ee,ge){let ye=W.view.ru(Ee);ye.Cs&&(ye=await Am(X.localStore,W.query,!1).then((({documents:k})=>W.view.ru(k,ye))));const Ne=ge&&ge.targetChanges.get(W.targetId),be=ge&&ge.targetMismatches.get(W.targetId)!=null,Ce=W.view.applyChanges(ye,X.isPrimaryClient,Ne,be);return Mm(X,W.targetId,Ce.au),Ce.snapshot})(i,C,N,B);const c=await Am(i.localStore,e,!0),f=new aT(e,c.Qs),g=f.ru(c.documents),_=ma.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(g,i.isPrimaryClient,_);Mm(i,n,v.au);const w=new lT(e,n,f);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function pT(i,e,n){const s=me(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((f=>!fu(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ih(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Yh(s.remoteStore,a.targetId),Rh(s,a.targetId)})).catch(Gs)):(Rh(s,a.targetId),await Ih(s.localStore,a.targetId,!0))}async function mT(i,e){const n=me(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yh(n.remoteStore,s.targetId))}async function gT(i,e,n){const s=IT(i);try{const a=await(function(f,g){const _=me(f),v=Qe.now(),w=g.reduce(((B,Y)=>B.add(Y.key)),Ae());let C,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Y=yr(),X=Ae();return _.Ns.getEntries(B,w).next((W=>{Y=W,Y.forEach(((Ee,ge)=>{ge.isValidDocument()||(X=X.add(Ee))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,Y))).next((W=>{C=W;const Ee=[];for(const ge of g){const ye=Pw(ge,C.get(ge.key).overlayedDocument);ye!=null&&Ee.push(new ai(ge.key,ye,Ig(ye.value.mapValue),Sn.exists(!0)))}return _.mutationQueue.addMutationBatch(B,v,Ee,g)})).next((W=>{N=W;const Ee=W.applyToLocalDocumentSet(C,X);return _.documentOverlayCache.saveOverlays(B,W.batchId,Ee)}))})).then((()=>({batchId:N.batchId,changes:Og(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(f,g,_){let v=f.Vu[f.currentUser.toKey()];v||(v=new Je(Se)),v=v.insert(g,_),f.Vu[f.currentUser.toKey()]=v})(s,a.batchId,n),await ya(s,a.changes),await vu(s.remoteStore)}catch(a){const c=nf(a,"Failed to persist write");n.reject(c)}}async function py(i,e){const n=me(i);try{const s=await R0(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const f=n.Au.get(c);f&&(Le(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?Le(f.hu,14607):a.removedDocuments.size>0&&(Le(f.hu,42227),f.hu=!1))})),await ya(n,s,e)}catch(s){await Gs(s)}}function Om(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&a.push(g.snapshot)})),(function(f,g){const _=me(f);_.onlineState=g;let v=!1;_.queries.forEach(((w,C)=>{for(const N of C.Sa)N.va(g)&&(v=!0)})),v&&rf(_)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yT(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let f=new Je(ae.comparator);f=f.insert(c,Mt.newNoDocument(c,de.min()));const g=Ae().add(c),_=new gu(de.min(),new Map,new Je(Se),f,g);await py(s,_),s.du=s.du.remove(c),s.Au.delete(e),of(s)}else await Ih(s.localStore,e,!1).then((()=>Rh(s,e,n))).catch(Gs)}async function _T(i,e){const n=me(i),s=e.batch.batchId;try{const a=await A0(n.localStore,e);gy(n,s,null),my(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ya(n,a)}catch(a){await Gs(a)}}async function vT(i,e,n){const s=me(i);try{const a=await(function(f,g){const _=me(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return _.mutationQueue.lookupMutationBatch(v,g).next((C=>(Le(C!==null,37113),w=C.keys(),_.mutationQueue.removeMutationBatch(v,C)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,w,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>_.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);gy(s,e,n),my(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ya(s,a)}catch(a){await Gs(a)}}function my(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function gy(i,e,n){const s=me(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Rh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||yy(i,s)}))}function yy(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Yh(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),of(i))}function Mm(i,e,n){for(const s of n)s instanceof hy?(i.Ru.addReference(s.key,e),ET(i,s)):s instanceof fy?(te(sf,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||yy(i,s.key)):he(19791,{wu:s})}function ET(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(te(sf,"New document in limbo: "+n),i.Eu.add(s),of(i))}function of(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ae($e.fromString(e)),s=i.fu.next();i.Au.set(s,new uT(n)),i.du=i.du.insert(n,s),sy(i.remoteStore,new Gr(Hn(Bh(n.path)),s,"TargetPurposeLimboResolution",uu.ce))}}async function ya(i,e,n){const s=me(i),a=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{f.push(s.pu(_,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(v){a.push(v);const w=Kh.As(_.targetId,v);c.push(w)}})))})),await Promise.all(f),s.Pu.H_(a),await(async function(_,v){const w=me(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>j.forEach(v,(N=>j.forEach(N.Es,(B=>w.persistence.referenceDelegate.addReference(C,N.targetId,B))).next((()=>j.forEach(N.ds,(B=>w.persistence.referenceDelegate.removeReference(C,N.targetId,B)))))))))}catch(C){if(!Ks(C))throw C;te(Xh,"Failed to update sequence numbers: "+C)}for(const C of v){const N=C.targetId;if(!C.fromCache){const B=w.Ms.get(N),Y=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(Y);w.Ms=w.Ms.insert(N,X)}}})(s.localStore,c))}async function wT(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te(sf,"User change. New user:",e.toKey());const s=await ty(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ee(b.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ya(n,s.Ls)}}function TT(i,e){const n=me(i),s=n.Au.get(e);if(s&&s.hu)return Ae().add(s.key);{let a=Ae();const c=n.Iu.get(e);if(!c)return a;for(const f of c){const g=n.Tu.get(f);a=a.unionWith(g.view.nu)}return a}}function _y(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yT.bind(null,e),e.Pu.H_=iT.bind(null,e.eventManager),e.Pu.yu=sT.bind(null,e.eventManager),e}function IT(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_T.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vT.bind(null,e),e}class ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S0(this.persistence,new w0,e.initialUser,this.serializer)}Cu(e){return new ey(Gh.mi,this.serializer)}Du(e){return new D0}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ou.provider={build:()=>new ou};class ST extends ou{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof iu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new o0(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new ey((s=>iu.mi(s,n)),this.serializer)}}class Ch{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Om(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wT.bind(null,this.syncEngine),await Z0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tT})()}createDatastore(e){const n=yu(e.databaseInfo.databaseId),s=(function(c){return new L0(c)})(e.databaseInfo);return(function(c,f,g,_){return new b0(c,f,g,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,f,g){return new j0(s,a,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Om(this.syncEngine,n,0)),(function(){return Pm.v()?new Pm:new N0})())}createSyncEngine(e,n){return(function(a,c,f,g,_,v,w){const C=new cT(a,c,f,g,_,v);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=me(n);te(bi,"RemoteStore shutting down."),s.Ea.add(5),await ga(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ch.provider={build:()=>new Ch};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class RT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=Mh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{te(si,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(te(si,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=nf(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sh(i,e){i.asyncQueue.verifyOperationInProgress(),te(si,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await ty(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Lm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await CT(i);te(si,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Vm(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Vm(e.remoteStore,a))),i._onlineComponents=e}async function CT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te(si,"Using user provided OfflineComponentProvider");try{await sh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===b.FAILED_PRECONDITION||a.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await sh(i,new ou)}}else te(si,"Using default OfflineComponentProvider"),await sh(i,new ST(void 0));return i._offlineComponents}async function vy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te(si,"Using user provided OnlineComponentProvider"),await Lm(i,i._uninitializedComponentsProvider._online)):(te(si,"Using default OnlineComponentProvider"),await Lm(i,new Ch))),i._onlineComponents}function PT(i){return vy(i).then((e=>e.syncEngine))}async function Fm(i){const e=await vy(i),n=e.eventManager;return n.onListen=hT.bind(null,e.syncEngine),n.onUnlisten=pT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mT.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="firestore.googleapis.com",zm=!0;class bm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wy,this.ssl=zm}else this.host=e.host,this.ssl=e.ssl??zm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i0)throw new ee(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ey(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NE;switch(s.type){case"firstParty":return new LE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Um.get(n);s&&(te("ComponentProvider","Removing Datastore"),Um.delete(n),s.terminate())})(this),Promise.resolve()}}function kT(i,e,n,s={}){i=Jr(i,Eu);const a=Nh(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;a&&(sv(`https://${g}`),uv("Firestore",!0)),c.host!==wy&&c.host!==g&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:a,emulatorOptions:s};if(!Gl(_,f)&&(i._setSettings(_),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Ot.MOCK_USER;else{v=ov(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ee(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ot(C)}i._authCredentials=new xE(new hg(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(da(n,ht._jsonSchema))return new ht(e,s||null,new ae($e.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:ct("string",ht._jsonSchemaVersion),referencePath:ct("string")};class Zr extends $i{constructor(e,n,s){super(e,n,Bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ae(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Bm(i,e,...n){if(i=Kn(i),fg("collection","path",e),i instanceof Eu){const s=$e.fromString(e,...n);return Jp(s),new Zr(i,null,s)}{if(!(i instanceof ht||i instanceof Zr))throw new ee(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child($e.fromString(e,...n));return Jp(s),new Zr(i.firestore,null,s)}}function Ph(i,e,...n){if(i=Kn(i),arguments.length===1&&(e=Mh.newId()),fg("doc","path",e),i instanceof Eu){const s=$e.fromString(e,...n);return Yp(s),new ht(i,null,new ae(s))}{if(!(i instanceof ht||i instanceof Zr))throw new ee(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child($e.fromString(e,...n));return Yp(s),new ht(i.firestore,i instanceof Zr?i.converter:null,new ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="AsyncQueue";class $m{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ry(this,"async_queue_retry"),this._c=()=>{const s=ih();s&&te(jm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ks(e))throw e;te(jm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",qm(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=tf.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&he(47125,{Pc:qm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Hs extends Eu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new $m,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $m(e),this._firestoreClient=void 0,await e}}}function VT(i,e){const n=typeof i=="object"?i:vE(),s=typeof i=="string"?i:Jl,a=pE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=rv("firestore");c&&kT(a,...c)}return a}function Ty(i){if(i._terminated)throw new ee(b.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DT(i),i._firestoreClient}function DT(i){const e=i._freezeSettings(),n=(function(a,c,f,g){return new ZE(a,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Ey(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new RT(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(Rt.fromBase64String(e))}catch(n){throw new ee(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(da(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:ct("string",dn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(da(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:ct("string",Qn._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(da(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gn(e.vectorValues);throw new ee(b.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:ct("string",Gn._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=/^__.*__$/;class xT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new pa(e,this.data,n,this.fieldTransforms)}}class Iy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:i})}}class lf{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return au(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Sy(this.Ac)&&NT.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yu(e)}Cc(e,n,s,a=!1){return new lf({Ac:e,methodName:n,Dc:s,path:At.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uf(i){const e=i._freezeSettings(),n=yu(i._databaseId);return new OT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function MT(i,e,n,s,a,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);cf("Data must be an object, but it was:",f,s);const g=Ay(s,f);let _,v;if(c.merge)_=new rn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const N=kh(e,C,n);if(!f.contains(N))throw new ee(b.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Cy(w,N)||w.push(N)}_=new rn(w),v=f.fieldTransforms.filter((C=>_.covers(C.field)))}else _=null,v=f.fieldTransforms;return new xT(new Wt(g),_,v)}class Tu extends af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tu}}function LT(i,e,n,s){const a=i.Cc(1,e,n);cf("Data must be an object, but it was:",a,s);const c=[],f=Wt.empty();oi(s,((_,v)=>{const w=hf(e,_,n);v=Kn(v);const C=a.yc(w);if(v instanceof Tu)c.push(w);else{const N=_a(v,C);N!=null&&(c.push(w),f.set(w,N))}}));const g=new rn(c);return new Iy(f,g,a.fieldTransforms)}function FT(i,e,n,s,a,c){const f=i.Cc(1,e,n),g=[kh(e,s,n)],_=[a];if(c.length%2!=0)throw new ee(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(kh(e,c[N])),_.push(c[N+1]);const v=[],w=Wt.empty();for(let N=g.length-1;N>=0;--N)if(!Cy(v,g[N])){const B=g[N];let Y=_[N];Y=Kn(Y);const X=f.yc(B);if(Y instanceof Tu)v.push(B);else{const W=_a(Y,X);W!=null&&(v.push(B),w.set(B,W))}}const C=new rn(v);return new Iy(w,C,f.fieldTransforms)}function UT(i,e,n,s=!1){return _a(n,i.Cc(s?4:3,e))}function _a(i,e){if(Ry(i=Kn(i)))return cf("Unsupported field value:",e,i),Ay(i,e);if(i instanceof af)return(function(s,a){if(!Sy(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const c=[];let f=0;for(const g of s){let _=_a(g,a.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=Kn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Tw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qe.fromDate(s);return{timestampValue:ru(a.serializer,c)}}if(s instanceof Qe){const c=new Qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ru(a.serializer,c)}}if(s instanceof Qn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof dn)return{bytesValue:Wg(a.serializer,s._byteString)};if(s instanceof ht){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gn)return(function(f,g){return{mapValue:{fields:{[wg]:{stringValue:Tg},[Zl]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return jh(g.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${lu(s)}`)})(i,e)}function Ay(i,e){const n={};return mg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(i,((s,a)=>{const c=_a(a,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Ry(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qe||i instanceof Qn||i instanceof dn||i instanceof ht||i instanceof af||i instanceof Gn)}function cf(i,e,n){if(!Ry(n)||!dg(n)){const s=lu(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function kh(i,e,n){if((e=Kn(e))instanceof wu)return e._internalPath;if(typeof e=="string")return hf(i,e);throw au("Field path arguments must be of type string or ",i,!1,void 0,n)}const zT=new RegExp("[~\\*/\\[\\]]");function hf(i,e,n){if(e.search(zT)>=0)throw au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wu(...e.split("."))._internalPath}catch{throw au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function au(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${s}`),f&&(_+=` in document ${a}`),_+=")"),new ee(b.INVALID_ARGUMENT,g+i+_)}function Cy(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bT extends Py{data(){return super.data()}}function ff(i,e){return typeof e=="string"?hf(i,e):e instanceof wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ee(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class ky extends df{}function jT(i,e,...n){let s=[];e instanceof df&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((_=>_ instanceof mf)).length,g=c.filter((_=>_ instanceof pf)).length;if(f>1||f>0&&g>0)throw new ee(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)i=a._apply(i);return i}class pf extends ky{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pf(e,n,s)}_apply(e){const n=this._parse(e);return Vy(e._query,n),new $i(e.firestore,e.converter,yh(e._query,n))}_parse(e){const n=uf(e.firestore);return(function(c,f,g,_,v,w,C){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ee(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Qm(C,w);const Y=[];for(const X of C)Y.push(Wm(_,c,X));N={arrayValue:{values:Y}}}else N=Wm(_,c,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Qm(C,w),N=UT(g,f,C,w==="in"||w==="not-in");return ut.create(v,w,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mf extends df{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mf(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let f=a;const g=c.getFlattenedFilters();for(const _ of g)Vy(f,_),f=yh(f,_)})(e._query,n),new $i(e.firestore,e.converter,yh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gf extends ky{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gf(e,n)}_apply(e){const n=(function(a,c,f){if(a.startAt!==null)throw new ee(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ee(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ca(c,f)})(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,(function(a,c){const f=a.explicitOrderBy.concat([c]);return new Xs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function $T(i,e="asc"){const n=e,s=ff("orderBy",i);return gf._create(s,n)}function Wm(i,e,n){if(typeof(n=Kn(n))=="string"){if(n==="")throw new ee(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vg(e)&&n.indexOf("/")!==-1)throw new ee(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child($e.fromString(n));if(!ae.isDocumentKey(s))throw new ee(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return om(i,new ae(s))}if(n instanceof ht)return om(i,n._key);throw new ee(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lu(n)}.`)}function Qm(i,e){if(!Array.isArray(i)||i.length===0)throw new ee(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vy(i,e){const n=(function(a,c){for(const f of a)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ee(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qT{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oi(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Zl].arrayValue?.values?.map((s=>it(s.doubleValue)));return new Gn(n)}convertGeoPoint(e){return new Qn(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=ti(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=$e.fromString(e);Le(Jg(s),9688,{name:e});const a=new la(s.get(1),s.get(3)),c=new ae(s.popFirst(5));return a.isEqual(n)||gr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ui extends Py{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ff("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(b.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:ct("string",Ui._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Wl extends Ui{data(e={}){return super.data(e)}}class Us{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Jo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wl(this._firestore,this._userDataWriter,s.key,s,new Jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((g=>{const _=new Wl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Jo(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Wl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Jo(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),w=f.indexOf(g.doc.key)),{type:WT(g.type),doc:_,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(b.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:i})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:ct("string",Us._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Dy extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function QT(i,e,n,...s){i=Jr(i,ht);const a=Jr(i.firestore,Hs),c=uf(a);let f;return f=typeof(e=Kn(e))=="string"||e instanceof wu?FT(c,"updateDoc",i._key,e,n,s):LT(c,"updateDoc",i._key,e),yf(a,[f.toMutation(i._key,Sn.exists(!0))])}function GT(i){return yf(Jr(i.firestore,Hs),[new $h(i._key,Sn.none())])}function KT(i,e){const n=Jr(i.firestore,Hs),s=Ph(i),a=HT(i.converter,e);return yf(n,[MT(uf(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Sn.exists(!1))]).then((()=>s))}function XT(i,...e){i=Kn(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Hm(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Hm(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let c,f,g;if(i instanceof ht)f=Jr(i.firestore,Hs),g=Bh(i._key.path),c={next:_=>{e[s]&&e[s](YT(f,i,_))},error:e[s+1],complete:e[s+2]};else{const _=Jr(i,$i);f=Jr(_.firestore,Hs),g=_._query;const v=new Dy(f);c={next:w=>{e[s]&&e[s](new Us(f,v,_,w))},error:e[s+1],complete:e[s+2]},BT(i._query)}return(function(v,w,C,N){const B=new AT(N),Y=new oT(w,B,C);return v.asyncQueue.enqueueAndForget((async()=>nT(await Fm(v),Y))),()=>{B.Nu(),v.asyncQueue.enqueueAndForget((async()=>rT(await Fm(v),Y)))}})(Ty(f),g,a,c)}function yf(i,e){return(function(s,a){const c=new Fi;return s.asyncQueue.enqueueAndForget((async()=>gT(await PT(s),a,c))),c.promise})(Ty(i),e)}function YT(i,e,n){const s=n.docs.get(e._key),a=new Dy(i);return new Ui(i,a,e._key,s,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Qs=a})(_E),Xl(new ia("firestore",((s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Hs(new OE(s.getProvider("auth-internal")),new FE(f,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ee(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(v.options.projectId,w)})(f,a),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ls(Qp,Gp,e),Ls(Qp,Gp,"esm2020")})();const JT={apiKey:"AIzaSyB4-0kZZyDA2Av5E42Z3Mp5lWuPbaseVWg",authDomain:"my-todo-app-backend-64bd8.firebaseapp.com",projectId:"my-todo-app-backend-64bd8",storageBucket:"my-todo-app-backend-64bd8.firebasestorage.app",messagingSenderId:"896728649756",appId:"1:896728649756:web:22cd41dd7b9c4fc2290fd9",measurementId:"G-77P1TNMRJ7"},ZT=tg(JT),bl=VT(ZT);function e1(){const[i,e]=Go.useState(""),[n,s]=Go.useState([]),[a,c]=Go.useState(null);Go.useEffect(()=>{const v=jT(Bm(bl,"todos"),$T("timestamp","desc")),w=XT(v,C=>{s(C.docs.map(N=>({...N.data(),id:N.id})))});return()=>w()},[]);const f=async()=>{if(i.trim()!=="")try{await KT(Bm(bl,"todos"),{text:i,completed:!1,timestamp:new Date}),e("")}catch(v){console.error("Error adding document: ",v)}},g=async v=>{await GT(Ph(bl,"todos",v))},_=async(v,w)=>{await QT(Ph(bl,"todos",v),{completed:!w})};return nn.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[nn.jsx("h1",{children:"My Todo App "}),nn.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center",gap:"10px"},children:[nn.jsx("input",{type:"text",value:i,onChange:v=>e(v.target.value),placeholder:"Enter a task...",style:{padding:"10px",width:"250px",borderRadius:"5px",border:"1px solid #ccc"}}),nn.jsx("button",{onClick:f,style:{padding:"10px 20px",borderRadius:"5px",background:"blue",color:"white",border:"none"},children:"Add Task"})]}),nn.jsx("ul",{style:{listStyle:"none",padding:0,maxWidth:"400px",margin:"auto"},children:n.map(v=>nn.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[a===v.id?nn.jsx("input",{value:v.text,onChange:w=>{[...n]},onBlur:()=>c(null),onKeyDown:w=>w.key==="Enter"&&c(null),autoFocus:!0,style:{flex:1,padding:"5px",borderRadius:"5px",border:"1px solid #ccc"}}):nn.jsx("span",{onDoubleClick:()=>c(v.id),style:{flex:1,textDecoration:v.completed?"line-through":"none",color:v.completed?"gray":"black",cursor:"pointer"},children:v.text}),nn.jsx("button",{onClick:()=>_(v.id,v.completed),style:{padding:"5px 10px",background:v.completed?"orange":"green",color:"white",border:"none",borderRadius:"5px"},children:v.completed?"Undo":"Done"}),nn.jsx("button",{onClick:()=>g(v.id),style:{padding:"5px 10px",background:"red",color:"white",border:"none",borderRadius:"5px"},children:""})]},v.id))})]})}W_.createRoot(document.getElementById("root")).render(nn.jsx(Go.StrictMode,{children:nn.jsx(e1,{})}));
